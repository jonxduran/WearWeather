{"version":3,"sources":["status/SettingsHandler.js","status/ThemeHandler.js","assets/common.js","status/WeatherHandler.js","api/WeatherApi.js","status/Firebase.js","components/SettingsBar.js","components/UserLogin.js","views/Navbar.js","components/CurrentWeatherCard.js","components/HourlyWeatherCard.js","components/ExtendedWeatherCard.js","views/WeatherDaily.js","status/ClothingHandler.js","components/ClothingItem.js","views/WearPicker.js","components/SuggestedClothingItem.js","api/ClothesApi.js","views/WearSuggester.js","views/WearSection.js","components/CitySelector.js","App.js","index.js"],"names":["userSettings","setNewSetting","ky","vl","localStorage","setItem","JSON","stringify","err","console","log","getSettings","darkModeMediaQuery","window","matchMedia","OSTheme","matches","themes","handlerToggleTheme","newActiveTheme","Object","keys","forEach","thm","weekDays","isNight","theHour","getSimpleTime","tme","scale","tempDate","Date","hr","getHours","addLeadingZero","getMinutes","getTemperature","temp","frmt","Math","round","roundNumber","num","SunnyClearIcon","lazy","NightClearIcon","PartlyCloudyIcon","CloudyIcon","CloudyAlertIcon","PartlyRainyIcon","RainyIcon","PouringIcon","LightningIcon","SnowyIcon","FogIcon","WindyIcon","WindyVariantIcon","now","weatherCacheCheck","weather","weatherCached","oldWeatherStr","getItem","oldWeather","parse","checkTime","getTime","date","setWeatherCache","weatherArr","weatherCache","error","weatherDecoder","id","decoded","test","ambiance","description","background","color","icon","timeIcon","getCurrentData","city","currentUrl","CONSTANTS","currentForecastUrl","fetch","then","res","ok","Error","json","catch","getHourlyData","hourlyUrl","hourlyForecastUrl","getExtendedData","extendedUrl","extendedForecastUrl","getAllWeatherData","Promise","all","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","database","firebaseUI","firebaseui","AuthUI","auth","firebaseUIConfig","callbacks","signInSuccessWithAuthResult","authResult","redirectUrl","uiShown","signInFlow","signInSuccessUrl","signInOptions","GoogleAuthProvider","PROVIDER_ID","EmailAuthProvider","tosUrl","privacyPolicyUrl","CloseIcon","SettingsBar","props","unitObj","unit","active","uo","pronounObj","pronoun","po","useState","menuOpen","setMenu","themeRef","useRef","unitRef","pronounRef","className","onClick","document","getElementById","classList","add","setTimeout","remove","refreshWeather","user","accessUserLoginClick","displayName","Suspense","fallback","type","ref","themeObj","filter","map","i","htmlFor","key","sendNewTheme","current","checked","_themeClick","unt","sendNewSetting","pro","location","reload","signOut","UserLogin","firebaseUIRef","React","createRef","useEffect","elem","start","onAuthStateChanged","userUpdate","closeClick","Navbar","userLoginOpen","setUserLoginOpen","newTheme","newUser","CurrentWeatherCard","allWeather","currCity","weatherCodeObj","currentWeather","dt","main","getDay","name","temp_max","temp_min","HourlyWeatherCard","temperatureD3","temperaturesArr","data","list","slice","hw","where","myData","whereWidth","offsetWidth","whereHeight","offsetHeight","xScale","d3","range","domain","d","timeObj","yScale","rangeRound","temperature","svg","append","attr","line","x","y","datum","_buildD3","timeSimple","ExtendedWeatherCard","dte","Common","currentCity","max","min","WeatherDaily","length","allW","extendedWeather","wh","DressIcon","DressShirtIcon","JeansIcon","LongSocksIcon","ShortsIcon","ShortShortsIcon","SkirtIcon","SunglassesIcon","SweaterIcon","TightsIcon","TShirtIcon","getClothingSvg","title","primaryColor","secondaryColor","tertiaryColor","ClothingItem","redSlider","greenSlider","blueSlider","getRGB","replace","split","clothingChangeSend","action","editedClothing","newCloth","selected","editCloth","colorChange","func","duration","timeout","args","effect","apply","clearTimeout","debounce","newVal","rgbLabel","rgbIndex","activeColorLabel","clothingState","activeColorSwap","activeRgbNew","newRgb","toString","newSvgIcon","dispatch","getNewClothingState","colorLabel","isActive","colorSwapIndex","cardActive","red","green","blue","svgIcon","initClothingState","useReducer","state","newState","index","activeColor","value","newClothingState","addrem","style","backgroundColor","step","defaultValue","onChange","e","target","WearPicker","clothingCategories","clothing","clothingCategoriesLength","selectedClothes","otherClothes","cc","c","category","categoryItems","categoryItemsKeys","categoryItemsKeysLength","push","editClothing","cloth","clothcat","catcloth","j","selcloth","submittedClothing","weatherId","marginTop","SuggestedClothingItem","usersClothes","setClothes","tempHigh","tempLow","timeKeys","timeKeysLen","filteredData","keyTemperature","getClothingSet","clothesLen","random","floor","WearSuggester","suggestedClothes","setSuggestedClothes","getSuggestedClothes","db","userObject","resolve","once","snapshot","val","newClothes","clo","newSet","WearSection","clothingMapKeys","ClothingMap","clothingMapKeysLength","clothingTitles","clothingTitlesLength","setClothing","wearSetter","clothesArr","oldClothingMap","CitySelector","cityInputRef","match","localCompare","currentData","hourlyData","extendedData","alert","newCity","cityPick","_cityCheck","App","initUserSettings","getInitUserSettings","initWeatherCheck","WeatherHandler","initState","theme","weatherLoading","appState","setAppState","_tryUpdateWeather","_setNewCity","cityWeather","newWeather","updatedWeather","weatherCheck","_updateWeather","newWeatherData","class","currWeatherUpdate","newThemeObj","newUserSettings","_setNewTheme","_setNewUser","_setNewSetting","newCityWeather","process","myFireDatabase","userCheck","uid","gpsAvailable","navigator","ReactDOM","render"],"mappings":"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","file":"static/js/main.37f65f4a.chunk.js","sourcesContent":["\r\n/* const darkModeMediaQuery = window.matchMedia('(prefers-color-scheme: dark)');\r\nconst OSTheme = handleDarkmode(darkModeMediaQuery);\r\nfunction handleDarkmode(e){\r\n\tconst darkModeOn = e.matches;\r\n\treturn (darkModeOn) ? 'dark-theme' : 'light-theme';\r\n};\r\nconsole.log('OSTheme: ', OSTheme); */\r\n\r\nlet userSettings = {\r\n\t\"scale\": \"f\",\r\n\t\"pronoun\": \"he\",\r\n\t\"theme\": 'system-theme'\r\n};\r\n\r\nexport function getInitUserSettings(user) { \r\n\tlet initUserSettings = JSON.parse(localStorage.getItem(\"userSettingsCache\")) || getSettings();\r\n\t/* let initUserSettings = getSettings(); */\r\n\tinitUserSettings.userObject = user;\r\n\t/* console.log('initUserSettings: ', initUserSettings); */\r\n\tuserSettings = initUserSettings;\r\n\treturn initUserSettings;\r\n}\r\n\r\nexport function setNewSetting(ky, vl) {\r\n\t/* console.log('setNewSetting ', ky, vl); */\r\n\tuserSettings[ky] = vl;\r\n\t/* console.log('new user settings: ', userSettings); */\r\n\ttry {\r\n\t\tlocalStorage.setItem('userSettingsCache',  JSON.stringify(userSettings));\r\n\t} catch(err) {\r\n\t\tconsole.log('Writing to local Storage error for userSettings: ', userSettings);\r\n\t}\r\n\treturn userSettings;\r\n};\r\n\r\nexport function getSettings() {\r\n\treturn userSettings;\r\n};","import React from 'react';\r\nimport WeatherSunnyIcon from 'mdi-react/WeatherSunnyIcon';\r\nimport WeatherNightIcon from 'mdi-react/WeatherNightIcon';\r\nimport CellphoneIcon from 'mdi-react/CellphoneIcon';\r\nimport { setNewSetting } from '../status/SettingsHandler';\r\n\r\n\r\nconst darkModeMediaQuery = window.matchMedia('(prefers-color-scheme: dark)');\r\nconst OSTheme = handleDarkmode(darkModeMediaQuery);\r\nfunction handleDarkmode(e){\r\n\tconst darkModeOn = e.matches;\r\n\treturn (darkModeOn) ? 'dark-theme' : 'light-theme';\r\n};\r\n/* console.log('OSTheme: ', OSTheme); */\r\n\r\n\r\nexport function getOSTheme() {\r\n\treturn OSTheme;\r\n};\r\n\r\n\r\nlet themes = {\r\n\t\"light-theme\": {\r\n\t\t\"active\": false,\r\n\t\t\"title\": \"Light\",\r\n\t\t\"class\": \"light-theme\",\r\n\t\t\"key\": \"light-theme\",\r\n\t\t\"icon\": <WeatherSunnyIcon />\r\n\t},\r\n\t\"dark-theme\": {\r\n\t\t\"active\": false,\r\n\t\t\"title\": \"Dark\",\r\n\t\t\"class\": \"dark-theme\",\r\n\t\t\"key\": \"dark-theme\",\r\n\t\t\"icon\": <WeatherNightIcon />\r\n\t},\r\n\t\"system-theme\" : {\r\n\t\t\"active\": false,\r\n\t\t\"title\": \"System\",\r\n\t\t\"class\": OSTheme,\r\n\t\t\"key\": \"system-theme\",\r\n\t\t\"icon\": <CellphoneIcon />\r\n\t}\r\n};\r\n\r\nexport function handlerToggleTheme(newActiveTheme) {\r\n\t/* console.log('newActiveTheme: ', newActiveTheme); */\r\n\tObject.keys(themes).forEach(thm => {\r\n\t\tthemes[thm]['active'] = false\r\n\t});\r\n\tthemes[newActiveTheme]['active'] = true;\r\n\tsetNewSetting('theme', themes[newActiveTheme]['key']);\r\n\treturn themes;\r\n};","\r\nlet initialized = false;\r\nexport function setInitialized() {\r\n\tinitialized = true;\r\n};\r\nexport function getInitialized() {\r\n\treturn initialized;\r\n};\r\n\r\nexport const weekDays = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\r\n\r\nexport function isNight(theHour) {\r\n\treturn (theHour < 6 || theHour > 19) ? true : false;\r\n};\r\n\r\nexport function addLeadingZero(tme) {\r\n\tif (tme < 10) {\r\n\t\ttme = \"0\" + tme;\r\n\t}\r\n\treturn tme;\r\n};\r\n\r\nexport function getSimpleTime(tme, scale) {\r\n\tconst tempDate = new Date(tme);\r\n\tconst hr = tempDate.getHours();\r\n\tif (scale === 'c') {\r\n\t\treturn (hr + ':' + addLeadingZero(tempDate.getMinutes()));\r\n\t};\r\n\tif (hr === 0) {\r\n\t\treturn '12am';\r\n\t} else if (hr < 13) {\r\n\t\treturn (hr + 'am');\r\n\t} else {\r\n\t\treturn ((hr-12) + 'pm');\r\n\t};\r\n}\r\n\r\nexport function getTemperature(temp, frmt) {\r\n\tif (frmt === 'f') {\r\n\t\treturn Math.round(((temp - 273.15) * 1.8) + 32);\r\n\t} else {\r\n\t\treturn Math.round(temp - 273.15);\r\n\t}\r\n};\r\n\r\nexport function debounce(func, duration) {\r\n\tlet timeout;\r\n\treturn function(...args) {\r\n\t\tconst effect = () => {\r\n\t\t\ttimeout = null;\r\n\t\t\treturn func.apply(this, args);\r\n\t\t};\r\n\t\tclearTimeout(timeout);\r\n\t\ttimeout = setTimeout(effect, duration);\r\n\t};\r\n};\r\n\r\nexport function roundNumber(num) {\r\n\treturn Math.round(num);\r\n};","import React, { lazy } from 'react';\r\nimport { isNight } from '../assets/common';\r\n\r\nconst SunnyClearIcon = lazy(() => import('mdi-react/WeatherSunnyIcon'));\r\nconst NightClearIcon = lazy(() => import('mdi-react/WeatherNightIcon'));\r\nconst PartlyCloudyIcon = lazy(() => import('mdi-react/WeatherPartlyCloudyIcon'));\r\nconst CloudyIcon = lazy(() => import('mdi-react/WeatherCloudyIcon'));\r\nconst CloudyAlertIcon = lazy(() => import('mdi-react/WeatherCloudyAlertIcon'));\r\nconst PartlyRainyIcon = lazy(() => import('mdi-react/WeatherPartlyRainyIcon'));\r\nconst RainyIcon = lazy(() => import('mdi-react/WeatherRainyIcon'));\r\nconst PouringIcon = lazy(() => import('mdi-react/WeatherPouringIcon'));\r\nconst LightningIcon = lazy(() => import('mdi-react/WeatherLightningIcon'));\r\nconst SnowyIcon = lazy(() => import('mdi-react/WeatherSnowyIcon'));\r\nconst FogIcon = lazy(() => import('mdi-react/WeatherFogIcon'));\r\nconst WindyIcon = lazy(() => import('mdi-react/WeatherWindyIcon'));\r\nconst WindyVariantIcon = lazy(() => import('mdi-react/WeatherWindyVariantIcon'));\r\n\r\nconst now = new Date(); \r\n\r\n\r\n/*\r\nweather cache exists and is new enough - [weather, false]\r\nweather cache exists and is old - [weather, true]\r\nno weather cache exists - [null, null]\r\n*/\r\nexport function weatherCacheCheck() {\r\n\tlet weather = null;\r\n\tlet weatherCached = false;\r\n\tlet oldWeatherStr = localStorage.getItem(\"weatherCache\") || null;\r\n\tif (oldWeatherStr) {\r\n\t\tlet oldWeather = JSON.parse(oldWeatherStr);\r\n\t\t/* console.log('oldWeather: ', oldWeather); */\r\n\t\t/* let cacheDate = new Date(oldWeather.date); */\r\n\t\tlet checkTime = new Date().getTime() - (15 * 60 * 1000); /*000*/\r\n\t\t/* let checkDate = new Date(checkTime); */\r\n\t\t/* console.log('cacheDate: ', cacheDate, ' isGreater?checkDate: ', checkDate); */\r\n\t\tweather = oldWeather.weather;\r\n\t\tif (oldWeather.date < checkTime) {\r\n\t\t\tweatherCached = true;\r\n\t\t\tconsole.log('oldWeather is old, marking as cached');\r\n\t\t} else {\r\n\t\t\tconsole.log('oldWeather is still fresh, date more recent than checkDate');\r\n\t\t};\r\n\t} else {\r\n\t\tweatherCached = null;\r\n\t};\r\n\treturn [weather, weatherCached];\r\n}\r\n\r\n/* export function refreshWeather() {\r\n\r\n} */\r\n\r\nexport function addToWeather(weatherArr, newWeather) {\r\n\tif (null === weatherArr) { weatherArr = []; };\r\n\tweatherArr.push(newWeather);\r\n\tlet finalWeatherArr = setWeatherCache(weatherArr);\r\n\treturn finalWeatherArr;\r\n}\r\n\r\nexport function setWeatherCache (weatherArr) {\r\n\tlet now = new Date().getTime();\r\n\tlet weatherCache = {\r\n\t\t'date': now,\r\n\t\t'weather': weatherArr\r\n\t};\r\n\tconsole.log('setting weatherCache: ', weatherCache);\r\n\ttry {\r\n\t\tlocalStorage.setItem('weatherCache', JSON.stringify(weatherCache));\r\n\t} catch(error) {\r\n\t\tconsole.log(\"Writing to local Storage error for weatherCache:\", error);\r\n\t}\r\n\treturn weatherArr;\r\n}\r\n\r\nexport function weatherDecoder(id) {\r\n\tlet decoded;\r\n\tswitch(true) {\r\n\t\tcase (/2[0-9][0-9]/).test(id):\r\n\t\t\tdecoded = {\r\n\t\t\t\tambiance: 'dark',\r\n\t\t\t\tdescription: 'thunderstorm',\r\n\t\t\t\tbackground: 'rain',\r\n\t\t\t\tcolor: 'darkblue',\r\n\t\t\t\ticon: <LightningIcon />\r\n\t\t\t};\r\n\t\t\tbreak;\r\n\t\tcase (/3[0-9][0-9]/).test(id):\r\n\t\t\tdecoded = {\r\n\t\t\t\tambiance: 'light',\r\n\t\t\t\tdescription: 'drizzle',\r\n\t\t\t\tbackground: 'rain',\r\n\t\t\t\tcolor: 'blue',\r\n\t\t\t\ticon: <PartlyRainyIcon />\r\n\t\t\t};\r\n\t\t\tbreak;\r\n\t\tcase (/50[2-4]/).test(id):\r\n\t\t\tdecoded = {\r\n\t\t\t\tambiance: 'dark',\r\n\t\t\t\tdescription: 'heavy rain',\r\n\t\t\t\tbackground: 'rain',\r\n\t\t\t\tcolor: 'darkblue',\r\n\t\t\t\ticon: <PouringIcon />\r\n\t\t\t};\r\n\t\t\tbreak;\r\n\t\tcase (/5[0-9][0-9]/).test(id):\r\n\t\t\tdecoded = {\r\n\t\t\t\tambiance: 'medium',\r\n\t\t\t\tdescription: 'rain',\r\n\t\t\t\tbackground: 'rain',\r\n\t\t\t\tcolor: 'blue',\r\n\t\t\t\ticon: <RainyIcon />\r\n\t\t\t};\r\n\t\t\tbreak;\r\n\t\tcase (/6[0-9][0-9]/).test(id):\r\n\t\t\tdecoded = {\r\n\t\t\t\tambiance: 'medium',\r\n\t\t\t\tdescription: 'snow',\r\n\t\t\t\tbackground: 'snow',\r\n\t\t\t\tcolor: 'gray',\r\n\t\t\t\ticon: <SnowyIcon />\r\n\t\t\t};\r\n\t\t\tbreak;\r\n\t\tcase (/7[0,2,4]1/).test(id):\r\n\t\t\tdecoded = {\r\n\t\t\t\tambiance: 'medium',\r\n\t\t\t\tdescription: 'fog',\r\n\t\t\t\tbackground: 'cloud',\r\n\t\t\t\tcolor: 'gray',\r\n\t\t\t\ticon: <FogIcon />\r\n\t\t\t};\r\n\t\t\tbreak;\r\n\t\tcase (/711/).test(id):\r\n\t\t\tdecoded = {\r\n\t\t\t\tambiance: 'medium',\r\n\t\t\t\tdescription: 'smoke',\r\n\t\t\t\tbackground: 'cloud',\r\n\t\t\t\tcolor: 'gray',\r\n\t\t\t\ticon: <CloudyAlertIcon />\r\n\t\t\t};\r\n\t\t\tbreak;\r\n\t\tcase (/7[3,5]1/).test(id):\r\n\t\t\tdecoded = {\r\n\t\t\t\tambiance: 'medium',\r\n\t\t\t\tdescription: 'sand',\r\n\t\t\t\tbackground: 'wind',\r\n\t\t\t\tcolor: 'lightbrown',\r\n\t\t\t\ticon: <WindyVariantIcon />\r\n\t\t\t};\r\n\t\t\tbreak;\r\n\t\tcase (/76[1-2]/).test(id):\r\n\t\t\tdecoded = {\r\n\t\t\t\tambiance: 'medium',\r\n\t\t\t\tdescription: 'dust',\r\n\t\t\t\tbackground: 'wind',\r\n\t\t\t\tcolor: 'lightbrown',\r\n\t\t\t\ticon: <WindyVariantIcon />\r\n\t\t\t};\r\n\t\t\tbreak;\r\n\t\tcase (/7[7-8]1/).test(id):\r\n\t\t\tdecoded = {\r\n\t\t\t\tambiance: 'light',\r\n\t\t\t\tdescription: 'strong winds',\r\n\t\t\t\tbackground: 'wind',\r\n\t\t\t\tcolor: 'gray',\r\n\t\t\t\ticon: <WindyIcon />\r\n\t\t\t};\r\n\t\t\tbreak;\r\n\t\tcase (/800/).test(id):\r\n\t\t\tdecoded = {\r\n\t\t\t\tambiance: 'light',\r\n\t\t\t\tdescription: 'clear',\r\n\t\t\t\tbackground: 'clear',\r\n\t\t\t\tcolor: 'yellow',\r\n\t\t\t\ticon: <SunnyClearIcon />,\r\n\t\t\t\ttimeIcon: isNight(now.getHours()) ? <NightClearIcon /> : <SunnyClearIcon />\r\n\t\t\t};\r\n\t\t\tbreak;\r\n\t\tcase (/80[1-2]/).test(id):\r\n\t\t\tdecoded = {\r\n\t\t\t\tambiance: 'light',\r\n\t\t\t\tdescription: 'partly cloudy',\r\n\t\t\t\tbackground: 'clear',\r\n\t\t\t\tcolor: 'lightgray',\r\n\t\t\t\ticon: <PartlyCloudyIcon />\r\n\t\t\t};\r\n\t\t\tbreak;\r\n\t\tcase (/80[3-4]/).test(id):\r\n\t\t\tdecoded = {\r\n\t\t\t\tambiance: 'medium',\r\n\t\t\t\tdescription: 'cloudy',\r\n\t\t\t\tbackground: 'cloud',\r\n\t\t\t\tcolor: 'gray',\r\n\t\t\t\ticon: <CloudyIcon />\r\n\t\t\t};\r\n\t\t\tbreak;\r\n\t\tdefault: \r\n\t\t\tdecoded = {\r\n\t\t\t\tambiance: 'light',\r\n\t\t\t\tdescription: 'clear',\r\n\t\t\t\tbackground: 'clear',\r\n\t\t\t\tcolor: 'yellow',\r\n\t\t\t\ticon: <SunnyClearIcon />,\r\n\t\t\t\ttimeIcon: isNight(now.getHours()) ? <NightClearIcon /> : <SunnyClearIcon />\r\n\t\t\t};\r\n\t\t\tbreak;\r\n\t}\r\n\treturn decoded;\r\n};\r\n","import CONSTANTS from '../assets/constants.json';\r\n/* import CURRENTWEATHER from '../assets/sampleCurrentWeather.json';\r\nimport HOURLYWEATHER from '../assets/sampleHourlyWeather.json';\r\nimport EXTENDEDWEATHER from '../assets/sampleExtendedWeather.json'; */\r\n\r\n\r\nexport function getCurrentData(city) {\r\n\t/* return CURRENTWEATHER; */\r\n\tconst currentUrl = CONSTANTS.currentForecastUrl + `&q=${city}`;\r\n\treturn fetch(currentUrl).then(res => {\r\n\t\tif (!res.ok) {\r\n\t\t\tthrow Error('currentForecast API error')\r\n\t\t};\r\n\t\treturn res;\r\n\t}).then(res => res.json()).catch(err => {\r\n\t\treturn { 'error': 'Issue getting weather data', 'detailedError': `getCurrentData API fail for ${city}` };\r\n\t});\r\n}\r\n\r\nexport function getHourlyData(city) {\r\n\t/* return HOURLYWEATHER; */\r\n\tconst hourlyUrl = CONSTANTS.hourlyForecastUrl + `&q=${city}`;\r\n\treturn fetch(hourlyUrl).then(res => {\r\n\t\tif (!res.ok) {\r\n\t\t\tthrow Error('hourlyForecast API error')\r\n\t\t};\r\n\t\treturn res;\r\n\t}).then(res => res.json()).catch(err => {\r\n\t\treturn { 'error': 'Issue getting weather data', 'detailedError': `getHourlyData API fail for ${city}` };\r\n\t});\r\n}\r\n\r\nexport function getExtendedData(city) {\r\n\t/* return EXTENDEDWEATHER; */\r\n\tconst extendedUrl = CONSTANTS.extendedForecastUrl + `&q=${city}`;\r\n\treturn fetch(extendedUrl).then(res => {\r\n\t\tif (!res.ok) {\r\n\t\t\tthrow Error('extendedForecast API error')\r\n\t\t};\r\n\t\treturn res;\r\n\t}).then(res => res.json()).catch(err => {\r\n\t\treturn { 'error': 'Issue getting weather data', 'detailedError': `getExtendedData API fail for ${city}` };\r\n\t});\r\n}\r\n\r\nexport function getAllWeatherData(city){\r\n\treturn Promise.all([\r\n\t\tgetCurrentData(city), \r\n\t\tgetHourlyData(city), \r\n\t\tgetExtendedData(city)\r\n\t]);\r\n};\r\n","import firebase from 'firebase/app';\r\nimport 'firebase/firestore';\r\nimport 'firebase/database';\r\nimport 'firebase/auth';\r\nimport * as firebaseui from 'firebaseui';\r\nimport 'firebaseui/dist/firebaseui.css';\r\n\r\n//console.log(process.env.FIREBASE_APIKEY);\r\n\r\nconst firebaseConfig = {\r\n\tapiKey: 'AIzaSyD8LP5CySz_KrrgaLiO3-OM-EUpYhFhXQA',\r\n\tauthDomain: \"wearweather-jxd.firebaseapp.com\",\r\n\tdatabaseURL: \"https://wearweather-jxd.firebaseio.com\",\r\n\tprojectId: \"wearweather-jxd\",\r\n\tstorageBucket: \"wearweather-jxd.appspot.com\",\r\n\tmessagingSenderId: \"143283944775\",\r\n\tappId: \"1:143283944775:web:a84402617d08b0f05ee062\",\r\n\tmeasurementId: \"G-PBMCYQXTEG\"\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\nfirebase.firestore();\r\nfirebase.database();\r\n\r\nexport default firebase;\r\n\r\n\r\n\r\nexport const firebaseUI = new firebaseui.auth.AuthUI(firebase.auth());\r\n\r\nexport const firebaseUIConfig = {\r\n\tcallbacks: {\r\n\t\tsignInSuccessWithAuthResult: function(authResult, redirectUrl) {\r\n\t\t\t// User successfully signed in.\r\n\t\t\t// Return type determines whether we continue the redirect automatically\r\n\t\t\t// or whether we leave that to developer to handle.\r\n\t\t\treturn true;\r\n\t\t},\r\n\t\tuiShown: function() {\r\n\t\t\t// The widget is rendered.\r\n\t\t\t// Hide the loader.\r\n\t\t\t//document.getElementById('loader').style.display = 'none';\r\n\t\t}\r\n\t},\r\n\t// Will use popup for IDP Providers sign-in flow instead of the default, redirect.\r\n\tsignInFlow: 'popup',\r\n\tsignInSuccessUrl: 'localhost:3000',\r\n\tsignInOptions: [\r\n\t\t// Leave the lines as is for the providers you want to offer your users.\r\n\t\tfirebase.auth.GoogleAuthProvider.PROVIDER_ID,\r\n\t\tfirebase.auth.EmailAuthProvider.PROVIDER_ID\r\n\t],\r\n\t// Terms of service url.\r\n\ttosUrl: '<your-tos-url>',\r\n\t// Privacy policy url.\r\n\tprivacyPolicyUrl: '<your-privacy-policy-url>'\r\n};","import React, { useState, useRef, lazy } from 'react';\r\n/* import MapMarkerIcon from 'mdi-react/MapMarkerIcon'; */\r\nimport RefreshIcon from 'mdi-react/RefreshIcon';\r\nimport AccountPlusIcon from 'mdi-react/AccountPlusIcon';\r\nimport firebase from '../status/Firebase';\r\n\r\n\r\nconst CloseIcon = lazy(()=>import('mdi-react/WindowCloseIcon'));\r\n\r\nconst SettingsBar = (props) => {\r\n\r\n\tconsole.log('SettingsBar props: ', props);\r\n\r\n\tlet unitObj = [\r\n\t\t{ unit: \"f\", active: false },\r\n\t\t{ unit: \"c\", active: false }\r\n\t];\r\n\tunitObj.forEach(uo => {\r\n\t\tif (uo.unit === props.userSettings.scale) {\r\n\t\t\tuo.active = true\r\n\t\t};\r\n\t});\r\n\tlet pronounObj = [\r\n\t\t{ pronoun: \"he\", active: false },\r\n\t\t{ pronoun: \"she\", active: false },\r\n\t\t{ pronoun: \"they\", active: false }\r\n\t];\r\n\tpronounObj.forEach(po => {\r\n\t\tif (po.pronoun === props.userSettings.pronoun) {\r\n\t\t\tpo.active = true;\r\n\t\t};\r\n\t});\r\n\tconst [menuOpen, setMenu] = useState(false);\r\n\tconst themeRef = useRef();\r\n\tconst unitRef = useRef();\r\n\tconst pronounRef = useRef();\r\n\r\n\tconst _themeClick = function(thm) {\r\n\t\tprops.sendNewTheme(thm);\r\n\t\tthemeRef.current.checked = false;\r\n\t};\r\n\r\n\tconst _unitClick = function(unt) {\r\n\t\tprops.sendNewSetting('scale', unt);\r\n\t\tunitRef.current.checked = false;\r\n\t};\r\n\r\n\tconst _pronounClick = function(pro) {\r\n\t\tprops.sendNewSetting('pronoun', pro);\r\n\t\tpronounRef.current.checked = false;\r\n\t};\r\n\r\n\tconst _refreshClick = function() {\r\n\t\tdocument.getElementById('Settings-refresh-icon').classList.add('spin');\r\n\t\tsetTimeout(function () {\r\n\t\t\tdocument.getElementById('Settings-refresh-icon').classList.remove('spin');\r\n\t\t}, 600);\r\n\t\tprops.refreshWeather();\r\n\t};\r\n\r\n\tconst _signout = function() {\r\n\t\tsetTimeout(function () {\r\n\t\t\twindow.location.reload(false);\r\n\t\t}, 3000);\r\n\t\tfirebase.auth().signOut();\r\n\t};\r\n\r\n\treturn (\r\n\t\t<article id='SettingsBar' className='positionrel marginauto'>\r\n\t\t\t<section id='SettingsButtons-section' className='displayflex'>\r\n\t\t\t\t{/* <div id='Settings-location-icon' className='Settings-icon displayflex positionrel MDI-container'>\r\n\t\t\t\t\t<MapMarkerIcon />\r\n\t\t\t\t</div> */}\r\n\t\t\t\t<div id='Settings-refresh-icon' className='Settings-icon displayflex positionrel MDI-container' onClick={_refreshClick}>\r\n\t\t\t\t\t<RefreshIcon />\r\n\t\t\t\t</div>\r\n\t\t\t\t{ (props.user !== null) ?\r\n\t\t\t\t<div id='Settings-overflow-icon' className={'Settings-icon displayflex flexcol positionrel' + ((menuOpen) && ' open')} onClick={()=>setMenu(!menuOpen)}>\r\n\t\t\t\t\t<span className='Settings-overflow-dot'></span>\r\n\t\t\t\t\t<span className='Settings-overflow-line-container displayflex marginauto positionrel'>\r\n\t\t\t\t\t\t<span className='Settings-overflow-line positionabs'></span>\r\n\t\t\t\t\t\t<span className='Settings-overflow-line positionabs'></span>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<span className='Settings-overflow-dot'></span>\r\n\t\t\t\t</div>\r\n\t\t\t\t: <div id='Settings-AccountPlus-icon' className='Settings-icon displayflex positionrel MDI-container' onClick={props.accessUserLoginClick}>\r\n\t\t\t\t\t<AccountPlusIcon />\r\n\t\t\t\t</div> }\r\n\t\t\t</section>\r\n\t\t\t{ (props.user !== null) ?\r\n\t\t\t<section id='Overflow-section' className={'positionabs' + ((menuOpen) ? ' open' :'')}>\r\n\t\t\t\t<div id='Overflow-screen' className='positionabs' onClick={()=>setMenu(false)}></div>\r\n\t\t\t\t<article id='Overflow-popup' className='displayflex flexcol marginauto popup popup-shadow'>\r\n\t\t\t\t\t<h3 className='Overflow-row header-row displayflex positionrel'>\r\n\t\t\t\t\t\t<div className=\"Overflow-row-title displayflex\">\r\n\t\t\t\t\t\t\t<div className='biggerfont biggerfont-height bold4 marginauto-height'>{props.user.displayName}'s Settings</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='Overflow-row-icon displayflex' onClick={()=>setMenu(false)}>\r\n\t\t\t\t\t\t\t<React.Suspense fallback={<></>}>\r\n\t\t\t\t\t\t\t\t{<CloseIcon />}\r\n\t\t\t\t\t\t\t</React.Suspense>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</h3>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className='Overflow-row displayflex positionrel'>\r\n\t\t\t\t\t\t<div className='Overflow-row-title displayflex'>\r\n\t\t\t\t\t\t\t<span className='medfont medfont-height marginauto-height'>Theme</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='Overflow-row-options displayflex'>\r\n\t\t\t\t\t\t\t<div className='dropdown medfont'>\r\n\t\t\t\t\t\t\t\t<input id='DropdownThemes' className='dropdown-input' type='checkbox' ref={themeRef}></input>\r\n\t\t\t\t\t\t\t\t{ Object.keys(props.themeObj).filter(thm => props.themeObj[thm]['active']===true).map((thm, i) => { \r\n\t\t\t\t\t\t\t\t\treturn (<label htmlFor='DropdownThemes' className='dropdown-label' key={i}>\r\n\t\t\t\t\t\t\t\t\t\t<div className='dropdown-icon'>\r\n\t\t\t\t\t\t\t\t\t\t\t<span className='theme-icon'>{props.themeObj[thm]['icon']}</span>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className='dropdown-title'>\r\n\t\t\t\t\t\t\t\t\t\t\t<span className='medfont medfont-height marginauto-height'>{props.themeObj[thm]['title']}</span>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</label>) \r\n\t\t\t\t\t\t\t\t}) }\r\n\t\t\t\t\t\t\t\t<ul className='dropdown-ul'>\r\n\t\t\t\t\t\t\t\t\t{ Object.keys(props.themeObj).filter(thm => props.themeObj[thm]['active']===false).map((thm, i) => {\r\n\t\t\t\t\t\t\t\t\t\treturn <li className='dropdown-li displayflex' onClick={()=>_themeClick(props.themeObj[thm]['key'])} key={i}>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className='dropdown-icon'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span className='theme-icon'>{props.themeObj[thm]['icon']}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className='dropdown-title'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span className='medfont medfont-height marginauto-height'>{props.themeObj[thm]['title']}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t}) }\r\n\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className='Overflow-row displayflex positionrel'>\r\n\t\t\t\t\t\t<div className='Overflow-row-title displayflex'>\r\n\t\t\t\t\t\t\t<span className='medfont medfont-height marginauto-height'>Unit</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='Overflow-row-options displayflex'>\r\n\t\t\t\t\t\t\t<div className='dropdown medfont'>\r\n\t\t\t\t\t\t\t\t<input id='DropdownUnits' className='dropdown-input' type='checkbox' ref={unitRef}></input>\r\n\t\t\t\t\t\t\t\t{ unitObj.filter(uo => uo.active===true).map((uo, i) => {\r\n\t\t\t\t\t\t\t\t\treturn (<label htmlFor='DropdownUnits' className='dropdown-label' key={i}>\r\n\t\t\t\t\t\t\t\t\t\t<div className='dropdown-title'>\r\n\t\t\t\t\t\t\t\t\t\t\t<span className='medfont medfont-height marginauto-height'>{' ' + uo.unit}</span>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</label>)\r\n\t\t\t\t\t\t\t\t}) }\r\n\t\t\t\t\t\t\t\t<ul className='dropdown-ul'>\r\n\t\t\t\t\t\t\t\t\t{ unitObj.filter(uo => uo.active===false).map((uo, i) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (<li className='dropdown-li displayflex' onClick={()=>_unitClick(uo.unit)} key={i}>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className='dropdown-title'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span className='medfont medfont-height marginauto-height'>{' ' + uo.unit}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</li>)\r\n\t\t\t\t\t\t\t\t\t}) }\r\n\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className='Overflow-row displayflex positionrel'>\r\n\t\t\t\t\t\t<div className='Overflow-row-title displayflex'>\r\n\t\t\t\t\t\t\t<span className='medfont medfont-height marginauto-height'>Pronoun</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='Overflow-row-options displayflex'>\r\n\t\t\t\t\t\t\t<div className='dropdown medfont'>\r\n\t\t\t\t\t\t\t\t<input id='DropdownPronouns' className='dropdown-input' type='checkbox' ref={pronounRef}></input>\r\n\t\t\t\t\t\t\t\t{ pronounObj.filter(po => po.active===true).map((po, i) => {\r\n\t\t\t\t\t\t\t\t\treturn (<label htmlFor='DropdownPronouns' className='dropdown-label' key={i}>\r\n\t\t\t\t\t\t\t\t\t\t<div className='dropdown-title'>\r\n\t\t\t\t\t\t\t\t\t\t\t<span className='medfont medfont-height marginauto-height'>{po.pronoun}</span>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</label>)\r\n\t\t\t\t\t\t\t\t}) }\r\n\t\t\t\t\t\t\t\t<ul className='dropdown-ul'>\r\n\t\t\t\t\t\t\t\t\t{ pronounObj.filter(po => po.active===false).map((po, i) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (<li className='dropdown-li displayflex' onClick={()=>_pronounClick(po.pronoun)} key={i}>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className='dropdown-title'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span className='medfont medfont-height marginauto-height'>{po.pronoun}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</li>)\r\n\t\t\t\t\t\t\t\t\t}) }\r\n\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className='Overflow-bottom-row displayflex positionrel'>\r\n\t\t\t\t\t\t<button className='solid-button red-button smallfont' onClick={_signout}>Sign out</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t</article>\r\n\t\t\t</section>\r\n\t\t\t: null }\r\n\t\t</article>\r\n\t);\r\n\r\n}\r\n\r\nexport default SettingsBar;","import React, { useEffect } from 'react';\r\nimport firebase, { firebaseUI, firebaseUIConfig } from '../status/Firebase';\r\n\r\n\r\nconst UserLogin = (props) => {\r\n\t\r\n\tconst firebaseUIRef = React.createRef();\r\n\r\n\tconst firebaseUIStarter = (elem) => {\r\n\t\tconsole.log('firebaseUIStarter ', elem);\r\n\t\tfirebaseUI.start(elem, firebaseUIConfig);\r\n\t\tfirebase.auth().onAuthStateChanged(function(user) {\r\n\t\t\tif (user) {\r\n\t\t\t\tprops.userUpdate(user);\r\n\t\t\t} else {\r\n\t\t\t\tconsole.log('no user');\r\n\t\t\t};\r\n\t\t});\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tfirebaseUIStarter(firebaseUIRef.current);\r\n\t}, \r\n\t// eslint-disable-next-line\r\n\t[]);\r\n\r\n\treturn (\r\n\t\t<section id='UserLogin-section' className={'positionabs displayflex'}>\r\n\t\t\t<article id='UserLogin-card' className='displayflex flexcol marginauto'>\r\n\t\t\t\t<section id='FirebaseUI-container' className='displayflex' ref={firebaseUIRef}></section>\r\n\t\t\t\t<div id='UserLogin-close-container' className='displayflex'>\r\n\t\t\t\t\t<button id='UserLogin-close' className='outline-button red-button' onClick={props.closeClick}>Cancel</button>\r\n\t\t\t\t</div>\r\n\t\t\t</article>\r\n\t\t</section>\r\n\t);\r\n}\r\n\r\nexport default UserLogin;","import React, { useState } from 'react';\r\nimport SettingsBar from '../components/SettingsBar';\r\nimport UserLogin from '../components/UserLogin';\r\n\r\n\r\nconst Navbar = (props) => {\r\n\t\r\n\tconst [userLoginOpen, setUserLoginOpen] = useState(false);\r\n\r\n\tconst _accessUserLogin = () => {\r\n\t\tsetUserLoginOpen(true);\r\n\t};\r\n\r\n\tconst _closeUserLogin = () => {\r\n\t\tsetUserLoginOpen(false);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<nav id='App-Navbar' className={'bigfont ' + props.color}>\r\n\t\t\t<SettingsBar user={props.user} themeObj={props.themeObj} sendNewTheme={(newTheme)=>props.sendNewTheme(newTheme)} accessUserLoginClick={()=>_accessUserLogin()} userSettings={props.userSettings} sendNewSetting={(ky, vl)=>props.sendNewSetting(ky, vl)} refreshWeather={props.refreshWeather} />\r\n\t\t\t{ userLoginOpen && <UserLogin user={props.user} userUpdate={(newUser)=>props.userUpdate(newUser)} closeClick={_closeUserLogin} /> }\r\n\t\t</nav>\r\n\t);\r\n\r\n}\r\n\r\nexport default Navbar;","import React from 'react';\r\nimport { weekDays, getTemperature } from '../assets/common';\r\n\r\nconst CurrentWeatherCard = ({allWeather, scale, currCity, weatherCodeObj}) => {\r\n\tconst date = new Date(allWeather.currentWeather.dt * 1000);\r\n\t\r\n\treturn <section id='CurrentWeatherCard-section' className={'displayflex flexcol marginauto ' + allWeather.currentWeather.weather[currCity].main}>\r\n\t\t<header className='card-header displayflex flexcol'>\r\n\t\t\t<span className='hugefont bold6'>{weekDays[date.getDay()]}</span>\r\n\t\t\t<span className='biggerfont bold4'>{allWeather.name}</span>\r\n\t\t\t<span id='CurrentWeatherCard-description' className='biggerfont bold3'>{allWeather.currentWeather.weather[0].description}</span>\r\n\t\t</header>\r\n\t\t<article id='CurrentWeatherCard-container' className='displayflex'>\r\n\t\t\t<article id='CurrentWeather-circle' className={'card fluent-card card-shadow positionrel ' + weatherCodeObj.color}>\r\n\t\t\t\t<span id='CurrentWeather-max' className='temperature hugefont hugefont-height positionabs'>{getTemperature(allWeather.currentWeather.main.temp_max, scale)}</span>\r\n\t\t\t\t<div className='temperature-container displayflex bold3'>\r\n\t\t\t\t\t<span className='temperature positionrel herofont marginauto'>{getTemperature(allWeather.currentWeather.main.temp, scale)}</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<span id='CurrentWeather-min' className='temperature hugefont hugefont-height positionabs'>{getTemperature(allWeather.currentWeather.main.temp_min, scale)}</span>\r\n\t\t\t</article>\r\n\t\t</article>\r\n\t\t{/* <article id='CurrentWeatherCard-container' className='displayflex'>\r\n\t\t\t<article id='CurrentWeatherCard' className='card displayflex flexcol marginauto positionrel'>\r\n\t\t\t\t<header id='CurrentWeatherCard-temperature' className='temperature positionrel herofont'>{getTemperature(allWeather.currentWeather.main.temp, scale)}</header>\r\n\t\t\t\t<section id='CurrentWeatherCard-details' className='displayflex flexcol'>\r\n\t\t\t\t\t<div id='CurrentWeatherCard-description' className='medfont medfont-height'>{allWeather.currentWeather.weather[0].description}</div>\r\n\t\t\t\t\t<div id='CurrentWeatherCard-minmax' className='displayflex'>\r\n\t\t\t\t\t\t<span className='temperature bigfont bigfont-height'>{getTemperature(allWeather.currentWeather.main.temp_max, scale)}</span>\r\n\t\t\t\t\t\t<span className='temperature bigfont bigfont-height'>{getTemperature(allWeather.currentWeather.main.temp_min, scale)}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</section>\r\n\t\t\t\t<div className='weather-icon-container positionabs'>\r\n\t\t\t\t\t<React.Suspense fallback={<></>}>\r\n\t\t\t\t\t\t{(weatherCodeObj.timeIcon) ? weatherCodeObj.timeIcon : weatherCodeObj.icon}\r\n\t\t\t\t\t</React.Suspense>\r\n\t\t\t\t</div>\r\n\t\t\t</article>\r\n\t\t</article> */}\r\n\t</section>\r\n};\r\n\r\nexport default CurrentWeatherCard;","import React, { useEffect, useRef } from 'react';\r\nimport { weatherDecoder } from '../status/WeatherHandler';\r\nimport { getTemperature, getSimpleTime } from '../assets/common';\r\nimport * as d3 from 'd3';\r\n\r\n\r\nconst HourlyWeatherCard = (props) => {\r\n\tconst temperatureD3 = useRef(null);\r\n\t/* const humidityD3 = useRef(null); */\r\n\r\n\tconst temperaturesArr = props.data.list.slice(0, 10).map(hw => {\r\n\t\treturn { \r\n\t\t\t'timeSimple': getSimpleTime((hw.dt*1000), props.scale),\r\n\t\t\t'timeObj': new Date(hw.dt*1000),\r\n\t\t\t'temperature': getTemperature(hw.main.temp, props.scale),\r\n\t\t\t'icon': weatherDecoder(hw.weather[0].id).icon\r\n\t\t};\r\n\t});\r\n\t/* console.log(temperaturesArr); */\r\n\t/* const humidityArr = hourlyWeather.map(hw => hw.main.humidity); */\r\n\r\n\tconst _buildD3 = function(where, myData) {\r\n\t\t/* console.log(where, myData); */\r\n\t\tconst whereWidth = where.offsetWidth;\r\n\t\tconst whereHeight = where.offsetHeight;\r\n\t\tconst xScale = d3.scaleTime().range([2, whereWidth-2]).domain(d3.extent(myData, d=>d.timeObj));\r\n\t\tconst yScale = d3.scaleLinear().rangeRound([whereHeight-40, 50]).domain(d3.extent(myData, d=>d.temperature));\r\n\t\tconst svg = d3.select(where).append('svg').attr('width', whereWidth-100).attr('height', whereHeight-40);\r\n\t\t/* const xaxis = d3.axisBottom(xScale);\r\n\t\tconst yaxis = d3.axisLeft(yScale); */\r\n\t\tconst line = d3.line()\r\n\t\t\t.x(d=>xScale(d.timeObj))\r\n\t\t\t.y(d=>yScale(d.temperature));\r\n\t\t/* svg.append('g').attr('class', 'axis xaxis').attr(\"transform\", `translate(0, ${whereHeight})`).call(xaxis);\r\n\t\tsvg.append('g').attr('class', 'axis yaxis').attr(\"transform\", \"translate(20, 10)\").call(yaxis); */\r\n\t\tsvg.append('path').datum(myData).attr(\"fill\", \"none\").attr(\"stroke\", \"orange\").attr(\"stroke-width\", 1.5).attr('d', line);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\t_buildD3(temperatureD3.current, temperaturesArr);\r\n\t}, [props.weather, temperaturesArr]);\r\n\r\n\t\r\n\treturn <article id='HourlyWeather-card' className='card largecard fluent-card card-shadow displayflex'>\r\n\t\t<section id='HourlyWeather-scroll-section' className='displayflex flexcol'>\r\n\t\t\t<article id='HourlyWeather-cards-container' className='displayflex positionrel'>\r\n\t\t\t\t{ temperaturesArr.map((hw, i) => {\r\n\t\t\t\t\treturn <article className='HourlyWeather-card displayflex flexcol' key={i}>\r\n\t\t\t\t\t\t<span className='HourlyWeather-time medfont medfont-height text-center'>{hw.timeSimple}</span>\r\n\t\t\t\t\t\t<span className='HourlyWeather-icon'>\r\n\t\t\t\t\t\t\t<React.Suspense fallback={<></>}>\r\n\t\t\t\t\t\t\t\t<span className='biggerfont biggerfont-height weather-icon-container'>{hw.icon}</span>\r\n\t\t\t\t\t\t\t</React.Suspense>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<span className='HourlyWeather-temperature medfont medfont-height text-center positionrel'>{hw.temperature}</span>\r\n\t\t\t\t\t</article>\r\n\t\t\t\t})}\r\n\t\t\t\t<section id='HourlyWeather-graphs-container' className='displayflex flexcol positionabs'>\r\n\t\t\t\t\t<article id='HourlyWeather-temperature-graph' className='d3-graph' ref={temperatureD3}></article>\r\n\t\t\t\t</section>\r\n\t\t\t</article>\r\n\t\t</section>\r\n\t</article>\r\n};\r\n\r\nexport default HourlyWeatherCard;","import React from 'react';\r\nimport { weatherDecoder } from '../status/WeatherHandler';\r\nimport * as Common from '../assets/common';\r\n\r\n\r\nconst ExtendedWeatherCard = (props) => {\r\n\tconst dte = new Date(props.data.dt*1000);\r\n\treturn <article className='ExtendedWeather-row displayflex'>\r\n\t\t<div className='ExtendedWeather-day displayflex'>\r\n\t\t\t<span className='medfont medfont-height marginauto-height bold5'>{Common.weekDays[dte.getDay()]}</span>\r\n\t\t</div>\r\n\t\t<div className='ExtendedWeather-icon'>\r\n\t\t\t<React.Suspense fallback={<></>}>\r\n\t\t\t\t<span className='biggerfont biggerfont-height weather-icon-container'>{weatherDecoder(props.data.weather[props.currentCity].id).icon}</span>\r\n\t\t\t</React.Suspense>\r\n\t\t</div>\r\n\t\t<div className='ExtendedWeather-description'>\r\n\t\t\t<span className='medfont medfont-height marginauto-height'>{props.data.weather[0].main}</span>\r\n\t\t</div>\r\n\t\t<div className='ExtendedWeather-temp displayflex'>\r\n\t\t\t<span className='medfont medfont-height bold5'>{Common.getTemperature(props.data.temp.max, props.scale)}</span>\r\n\t\t\t<span className='medfont medfont-height'>{Common.getTemperature(props.data.temp.min, props.scale)}</span>\r\n\t\t</div>\r\n\t\t\r\n\t</article>\r\n};\r\n\r\nexport default ExtendedWeatherCard;","import React from 'react';\r\nimport CurrentWeatherCard from '../components/CurrentWeatherCard';\r\nimport HourlyWeatherCard from '../components/HourlyWeatherCard';\r\nimport ExtendedWeatherCard from '../components/ExtendedWeatherCard'\r\n\r\n\r\n\r\nconst WeatherDaily = (props) => {\r\n\t/* console.log('WeatherDaily props: ', props); */\r\n\treturn (\r\n\t\t<section id='WeatherDaily' className='main-tab flexcol'>\r\n\t\t\t{ (props.weather && (props.weather.length > 0)) ? (\r\n\t\t\t\t<>\r\n\t\t\t\t<section id='CurrentWeather-section' className='positionrel'>\r\n\t\t\t\t\t{ props.weather.map((allW, i) => {\r\n\t\t\t\t\t\treturn <CurrentWeatherCard key={i} allWeather={allW} scale={props.scale} currCity={props.currentCity} weatherCodeObj={props.weatherCodeObj} />\r\n\t\t\t\t\t}) }\r\n\t\t\t\t</section>\r\n\r\n\t\t\t\t<section id='HourlyWeather-section' className='displayflex flexcol'>\r\n\t\t\t\t\t<HourlyWeatherCard data={props.weather[props.currentCity]['hourlyWeather']} scale={props.scale} currentCity={props.currentCity} />\t\t\t\r\n\t\t\t\t</section>\r\n\r\n\t\t\t\t<section id='ExtendedWeather-section' className='displayflex flexcol'>\r\n\t\t\t\t\t<article id='ExtendedWeather-card' className='card largecard fluent-card card-shadow displayflex flexcol'>\r\n\t\t\t\t\t\t{props.weather[props.currentCity].extendedWeather.list.map((wh, i) => {\r\n\t\t\t\t\t\t\treturn <ExtendedWeatherCard data={wh} scale={props.scale} currentCity={props.currentCity} key={i} />\r\n\t\t\t\t\t\t}) }\r\n\t\t\t\t\t</article>\r\n\t\t\t\t</section>\r\n\t\t\t\t</>\r\n\t\t\t) : null }\r\n\t\t</section>\r\n\t);\r\n\r\n};\r\n\r\n\r\nexport default WeatherDaily;","import React, { lazy } from 'react';\r\n\r\nconst DressIcon = lazy(() => import('../assets/icons/jsx/Dress'));\r\nconst DressShirtIcon = lazy(() => import('../assets/icons/jsx/DressShirt'));\r\nconst JeansIcon = lazy(() => import('../assets/icons/jsx/Jeans'));\r\nconst LongSocksIcon = lazy(() => import('../assets/icons/jsx/LongSocks'));\r\nconst ShortsIcon = lazy(() => import('../assets/icons/jsx/Shorts'));\r\nconst ShortShortsIcon = lazy(() => import('../assets/icons/jsx/ShortShorts'));\r\nconst SkirtIcon = lazy(() => import('../assets/icons/jsx/Skirt'));\r\nconst SunglassesIcon = lazy(() => import('../assets/icons/jsx/Sunglasses'));\r\nconst SweaterIcon = lazy(() => import('../assets/icons/jsx/Sweater'));\r\nconst TightsIcon = lazy(() => import('../assets/icons/jsx/Tights'));\r\nconst TShirtIcon = lazy(() => import('../assets/icons/jsx/TShirt'));\r\n\r\n\r\nexport function getClothingSvg(title, primaryColor, secondaryColor, tertiaryColor) {\r\n\tif (title === 'dress') {\r\n\t\treturn <DressIcon primaryColor={primaryColor} secondaryColor={secondaryColor} />;\r\n\t} else if (title === 'dressShirt') {\r\n\t\treturn <DressShirtIcon primaryColor={primaryColor} secondaryColor={secondaryColor} />;\r\n\t} else if (title === 'jeans') {\r\n\t\treturn <JeansIcon primaryColor={primaryColor} />;\r\n\t} else if (title === 'longSocks') {\r\n\t\treturn <LongSocksIcon primaryColor={primaryColor} secondaryColor={secondaryColor} tertiaryColor={tertiaryColor} />;\r\n\t} else if (title === 'shorts') {\r\n\t\treturn <ShortsIcon primaryColor={primaryColor} />;\r\n\t} else if (title === 'shortShorts') {\r\n\t\treturn <ShortShortsIcon primaryColor={primaryColor} secondaryColor={secondaryColor} />;\r\n\t} else if (title === 'skirt') {\r\n\t\treturn <SkirtIcon primaryColor={primaryColor} />;\r\n\t} else if (title === 'sunglasses') {\r\n\t\treturn <SunglassesIcon primaryColor={primaryColor} secondaryColor={secondaryColor} />;\r\n\t} else if (title === 'sweater') {\r\n\t\treturn <SweaterIcon primaryColor={primaryColor} />;\r\n\t} else if (title === 'tights') {\r\n\t\treturn <TightsIcon primaryColor={primaryColor} />;\r\n\t} else if (title === 'tShirt') {\r\n\t\treturn <TShirtIcon primaryColor={primaryColor} />;\r\n\t};\r\n};","import React, { useEffect, useReducer, useRef } from 'react';\r\nimport { getClothingSvg } from '../status/ClothingHandler';\r\nimport { debounce } from '../assets/common';\r\n\r\n\r\nconst ClothingItem = (props) => {\r\n\t\r\n\t/* console.log(props); */\r\n\tconst redSlider = useRef();\r\n\tconst greenSlider = useRef();\r\n\tconst blueSlider = useRef();\r\n\r\n\tconst getRGB = function(color) {\r\n\t\treturn color.replace(/[^\\d,]/g, '').split(',');\r\n\t};\r\n\r\n\tconst clothingChangeSend = function(action, editedClothing) {\r\n\t\tconst newCloth = {...props.data};\r\n\t\tswitch(action) {\r\n\t\t\tcase 'addrem':\r\n\t\t\t\tnewCloth.selected = !newCloth.selected;\r\n\t\t\t\tprops.editCloth(newCloth, 'addrem');\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'colorChange':\r\n\t\t\t\tconsole.log('colorChange ', editedClothing);\r\n\t\t\t\tprops.editCloth(editedClothing, 'colorChange');\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tconsole.log('No clothingChangeSend for ', action);\r\n\t\t}\r\n\t};\r\n\r\n\tconst colorChange = debounce(function(newVal, rgbLabel, rgbIndex) {\r\n\t\tconst editedClothing = {...props.data};\r\n\t\tconst activeColorLabel = (clothingState.activeColorSwap === 0) ? 'primaryColor' : (clothingState.activeColorSwap === 1) ? 'secondaryColor' : 'tertiaryColor';\r\n\t\tconst activeRgbNew = getRGB(editedClothing[activeColorLabel]);\r\n\t\tactiveRgbNew[rgbIndex] = newVal;\r\n\t\tconst newRgb = 'rgb(' + activeRgbNew.toString() + ')';\r\n\t\teditedClothing[activeColorLabel] = newRgb;\r\n\t\tconst newSvgIcon = getClothingSvg(editedClothing.title, editedClothing.primaryColor, editedClothing.secondaryColor, editedClothing.tertiaryColor);\r\n\t\tclothingChangeSend('colorChange', editedClothing);\r\n\t\tdispatch({type:'colorChange', rgbLabel, newVal, activeColorLabel, newSvgIcon});\r\n\t}, 250);\r\n\r\n\tconst getNewClothingState = function(colorLabel, title, primaryColor, secondaryColor, tertiaryColor, isActive, colorSwapIndex) {\r\n\t\tconst newRgb = getRGB(colorLabel);\r\n\t\tconst newSvgIcon = getClothingSvg(title, primaryColor, secondaryColor, tertiaryColor);\r\n\t\treturn {\r\n\t\t\tcardActive: isActive,\r\n\t\t\tactiveColorSwap: colorSwapIndex,\r\n\t\t\tred: newRgb[0],\r\n\t\t\tgreen: newRgb[1],\r\n\t\t\tblue: newRgb[2],\r\n\t\t\tsvgIcon: newSvgIcon\r\n\t\t};\r\n\t};\r\n\r\n\tconst initClothingState = getNewClothingState(props.data.primaryColor, props.data.title, props.data.primaryColor, props.data.secondaryColor, props.data.tertiaryColor, false, 0);\r\n\r\n\tconst clothingReducer = function(state, action) {\r\n\t\tconst newState = {...state};\r\n\t\tswitch(action.type) {\r\n\t\t\tcase 'colorPickerToggle':\r\n\t\t\t\tnewState.cardActive = !newState.cardActive;\r\n\t\t\t\treturn newState;\r\n\t\t\tcase 'colorPickerSwap':\r\n\t\t\t\tif (action.index !== newState.activeColorSwap) {\r\n\t\t\t\t\tnewState.activeColorSwap = action.index;\r\n\t\t\t\t\tconst activeColor = (action.index === 0) ? props.data.primaryColor : (action.index === 1) ? props.data.secondaryColor : props.data.tertiaryColor;\r\n\t\t\t\t\tconst newRgb = getRGB(activeColor);\r\n\t\t\t\t\tnewState.red = newRgb[0];\r\n\t\t\t\t\tnewState.green = newRgb[1];\r\n\t\t\t\t\tnewState.blue = newRgb[2];\r\n\t\t\t\t\tredSlider.current.value = newRgb[0];\r\n\t\t\t\t\tgreenSlider.current.value = newRgb[1];\r\n\t\t\t\t\tblueSlider.current.value = newRgb[2];\r\n\t\t\t\t};\r\n\t\t\t\treturn newState;\r\n\t\t\tcase 'colorChange':\r\n\t\t\t\tnewState[action.rgbLabel] = action.newVal;\r\n\t\t\t\tnewState['svgIcon'] = action.newSvgIcon;\r\n\t\t\t\tconst activeColor = props.data[action.activeColorLabel];\r\n\t\t\t\tconst newRgb = getRGB(activeColor);\r\n\t\t\t\tnewState.red = newRgb[0];\r\n\t\t\t\tnewState.green = newRgb[1];\r\n\t\t\t\tnewState.blue = newRgb[2];\r\n\t\t\t\tredSlider.current.value = newRgb[0];\r\n\t\t\t\tgreenSlider.current.value = newRgb[1];\r\n\t\t\t\tblueSlider.current.value = newRgb[2];\r\n\t\t\t\treturn newState;\r\n\t\t\tcase 'newStateFromProps':\r\n\t\t\t\treturn action.newState;\r\n\t\t\tdefault:\r\n\t\t\t\treturn state;\r\n\t\t}\r\n\t};\r\n\tconst [clothingState, dispatch] = useReducer(clothingReducer, initClothingState);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst activeColor = (clothingState.activeColorSwap === 0) ? props.data.primaryColor : (clothingState.activeColorSwap === 1) ? props.data.secondaryColor : props.data.tertiaryColor;\r\n\t\tconst newClothingState = getNewClothingState(activeColor, props.data.title, props.data.primaryColor, props.data.secondaryColor, props.data.tertiaryColor, clothingState.cardActive, clothingState.activeColorSwap);\r\n\t\tdispatch({type: 'newStateFromProps', newState: newClothingState});\r\n\t}, \r\n\t// eslint-disable-next-line\r\n\t[props.data, clothingState.activeColorSwap, clothingState.cardActive]);\r\n\r\n\t\r\n\treturn (\r\n\t\t<article className={'card fluent-card card-shadow displayflex nonselect positionrel ' + (clothingState.cardActive ? 'active' : '')}>\r\n\t\t\t<section className='card-contents displayflex flexcol positionabs'>\r\n\t\t\t\t<span className='card-icon-container displayflex'>\r\n\t\t\t\t\t<React.Suspense fallback={<></>}>\r\n\t\t\t\t\t\t{clothingState.svgIcon}\r\n\t\t\t\t\t</React.Suspense>\r\n\t\t\t\t</span>\r\n\t\t\t\t<header className='card-name-container medfont medfont-height'>\r\n\t\t\t\t\t<p className='card-name marginauto-height'>{props.data.name}</p>\r\n\t\t\t\t</header>\r\n\t\t\t\t<div className='card-buttons-container displayflex positionrel'>\r\n\t\t\t\t\t<button className={'outline-button ' + (props.addrem==='Add' ? 'green-button' : 'red-button')} onClick={()=>clothingChangeSend('addrem', null)}>{props.addrem}</button>\r\n\t\t\t\t\t<button className='card-color-picker-button outline-button' onClick={()=>dispatch({type:'colorPickerToggle'})}>Color</button>\r\n\t\t\t\t</div>\r\n\t\t\t</section>\r\n\t\t\t<section className='card-color-picker-container displayflex flexcol positionabs'>\r\n\t\t\t\t<span className='card-color-picker-close positionabs pointer nonselect' onClick={()=>dispatch({type:'colorPickerToggle'})}>close</span>\r\n\t\t\t\t<article className='card-color-picker-swapper displayflex'>\r\n\t\t\t\t\t{<span className={'card-color-picker-option primary marginauto' + (clothingState.activeColorSwap === 0 ? ' active' : '')} onClick={()=>dispatch({type:'colorPickerSwap', index:0})}>\r\n\t\t\t\t\t\t<span style={{backgroundColor: props.data.primaryColor}}></span>\r\n\t\t\t\t\t</span>}\r\n\t\t\t\t\t{(null !== props.data.secondaryColor) && <span className={'card-color-picker-option secondary marginauto' + (clothingState.activeColorSwap === 1 ? ' active' : '')} onClick={()=>dispatch({type:'colorPickerSwap', index:1})}>\r\n\t\t\t\t\t\t<span style={{backgroundColor: props.data.secondaryColor}}></span>\r\n\t\t\t\t\t</span>}\r\n\t\t\t\t\t{(null !== props.data.tertiaryColor) && <span className={'card-color-picker-option tertiary marginauto' + (clothingState.activeColorSwap === 2 ? ' active' : '')} onClick={()=>dispatch({type:'colorPickerSwap', index:2})}>\r\n\t\t\t\t\t\t<span style={{backgroundColor: props.data.tertiaryColor}}></span>\r\n\t\t\t\t\t</span>}\r\n\t\t\t\t</article>\r\n\t\t\t\t<article className='card-color-picker-sliders-container displayflex flexcol'>\r\n\t\t\t\t\t<div className='card-color-picker-slider displayflex'>\r\n\t\t\t\t\t\t<span className='smallfont smallfont-height marginauto-height'>{clothingState.red}</span>\r\n\t\t\t\t\t\t<input className='slider marginauto-height' type='range' min='0' max='255' step='1' defaultValue={clothingState.red} onChange={(e)=>colorChange(e.target.value, 'red', 0)} ref={redSlider}></input>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='card-color-picker-slider displayflex'>\r\n\t\t\t\t\t\t<span className='smallfont smallfont-height marginauto-height'>{clothingState.green}</span>\r\n\t\t\t\t\t\t<input className='slider marginauto-height' type='range' min='0' max='255' step='1' defaultValue={clothingState.green} onChange={(e)=>colorChange(e.target.value, 'green', 1)} ref={greenSlider}></input>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='card-color-picker-slider displayflex'>\r\n\t\t\t\t\t\t<span className='smallfont smallfont-height marginauto-height'>{clothingState.blue}</span>\r\n\t\t\t\t\t\t<input className='slider marginauto-height' type='range' min='0' max='255' step='1' defaultValue={clothingState.blue} onChange={(e)=>colorChange(e.target.value, 'blue', 2)} ref={blueSlider}></input>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</article>\r\n\t\t\t</section>\r\n\t\t</article>\r\n\t);\r\n}\r\n\r\nexport default ClothingItem;","import React from 'react';\r\nimport ClothingItem from '../components/ClothingItem';\r\nimport { roundNumber } from '../assets/common';\r\n\r\n\r\nconst WearPicker = (props) => {\r\n\t\r\n\tconst clothingCategories = Object.keys(props.clothing);\r\n\tconst clothingCategoriesLength = clothingCategories.length;\r\n\r\n\tconst selectedClothes = [];\r\n\tconst otherClothes = [];\r\n\tfor (let cc = 0; cc < clothingCategoriesLength; cc++) {\r\n\t\totherClothes[clothingCategories[cc]] = [];\r\n\t};\r\n\r\n\tfor (let c = 0; c < clothingCategoriesLength; c++) {\r\n\t\tconst category = clothingCategories[c];\r\n\t\t/* console.log('  category: ', category); */\r\n\t\tconst categoryItems = props.clothing[clothingCategories[c]];\r\n\t\t/* console.log('  categoryItems: ', categoryItems); */\r\n\t\tconst categoryItemsKeys = Object.keys(categoryItems);\r\n\t\t/* console.log('  categoryItemsKeys: ', categoryItemsKeys); */\r\n\t\tconst categoryItemsKeysLength = categoryItemsKeys.length;\r\n\t\tfor (let i = 0; i < categoryItemsKeysLength; i++) {\r\n\t\t\tif (true === categoryItems[categoryItemsKeys[i]]['selected']) {\r\n\t\t\t\tselectedClothes.push(categoryItems[categoryItemsKeys[i]]);\r\n\t\t\t} else {\r\n\t\t\t\totherClothes[category].push(categoryItems[categoryItemsKeys[i]]);\r\n\t\t\t};\r\n\t\t};\r\n\t};\r\n\t/* console.log('  -  selectedClothes: ', selectedClothes);\r\n\tconsole.log('  -  otherClothes: ', otherClothes); */\r\n\r\n\r\n\tconst editClothing = function(cloth, action) {\r\n\t\tconsole.log('newClothing: ', cloth);\r\n\t\tprops.editClothing([cloth]);\r\n\t};\r\n\r\n\tconst submitClothing = function() {\r\n\t\tconst tempNow = new Date();\r\n\t\tconst key = tempNow.getTime() + '_' + roundNumber(props.weather[props.currentCity].currentWeather.main.temp);\r\n\t\tconsole.log('key: ', key);\r\n\t\tconst submittedClothing = {\r\n\t\t\ttemperature: props.weather[props.currentCity].currentWeather.main.temp,\r\n\t\t\tweatherId: props.weather[props.currentCity].currentWeather.weather[0].id,\r\n\t\t\tclothing: selectedClothes\r\n\t\t};\r\n\t\tconsole.log('submittedClothing ', submittedClothing);\r\n\t};\r\n\r\n\r\n\treturn (\r\n\t\t<section id='WearPicker' className='main-tab displayflex flexcol'>\r\n\t\t\t\r\n\t\t\t<section id='AllWear-section'>\r\n\t\t\t\t<h3 className='Wear-header biggerfont bold4'>Pick your outfit</h3>\r\n\t\t\t\t<article id='AllWear-container' className='displayflex flexcol'>\r\n\t\t\t\t\t{ clothingCategories.map((clothcat, i) => {\r\n\t\t\t\t\t\treturn (otherClothes[clothcat].length > 0) ? <section id={clothcat+'-section'} key={i}>\r\n\t\t\t\t\t\t\t<h4 className='bigfont bold4'>{clothcat}</h4>\r\n\t\t\t\t\t\t\t<section id={clothcat+'-container'} className='displayflex horz-scroll'>\r\n\t\t\t\t\t\t\t\t{ otherClothes[clothcat].map((catcloth, j) => {\r\n\t\t\t\t\t\t\t\t\treturn <ClothingItem key={j} data={catcloth} addrem={'Add'} editCloth={(cloth,action)=>editClothing(cloth, action)} />\r\n\t\t\t\t\t\t\t\t}) }\r\n\t\t\t\t\t\t\t</section>\r\n\t\t\t\t\t\t</section> : null\r\n\t\t\t\t\t}) }\r\n\t\t\t\t</article>\r\n\t\t\t</section>\r\n\r\n\t\t\t<section id='PickedWear-section'>\r\n\t\t\t\t<h3 className='Wear-header biggerfont bold4'>Today's Outfit</h3>\r\n\t\t\t\t{ (selectedClothes.length > 0) ? <>\r\n\t\t\t\t\t<section id='PickedWear-container' className='displayflex flexwrap horz-scroll'>\r\n\t\t\t\t\t\t{ selectedClothes.map((selcloth, i) => {\r\n\t\t\t\t\t\t\treturn <ClothingItem key={i} data={selcloth} editCloth={(cloth,action)=>editClothing(cloth, action)} addrem={'Remove'} />\r\n\t\t\t\t\t\t}) }\r\n\t\t\t\t\t</section>\r\n\t\t\t\t\t<article id='PickedWear-submit-container' className='Wear-submit-container displayflex positionrel'>\r\n\t\t\t\t\t\t<button className='solid-button large teal-button smallfont' onClick={submitClothing}>Submit</button>\r\n\t\t\t\t\t</article>\r\n\t\t\t\t</> : <article id='NoSelectedCards' className='displayflex flexcol nonselect'>\r\n\t\t\t\t\t\t<p className='marginauto medfont'>No Clothes Selected</p>\r\n\t\t\t\t</article> }\r\n\t\t\t</section>\r\n\r\n\t\t\t<span style={{marginTop: '10rem'}}>Icons by itim2101, Good Ware, Smashicons</span>\r\n\r\n\t\t</section>\r\n\t)\r\n\r\n}\r\n\r\nexport default WearPicker;","import React from 'react';\r\nimport { getClothingSvg } from '../status/ClothingHandler';\r\n\r\n\r\nconst SuggestedClothingItem = (props) => {\r\n\r\n\tconst svgIcon = getClothingSvg(props.data.title, props.data.primaryColor, props.data.secondaryColor, props.data.tertiaryColor);\r\n\r\n\tconst sendClothing = function() {\r\n\t\tprops.editCloth(props.data);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<article className='card fluent-card card-shadow displayflex nonselect positionrel'>\r\n\t\t\t<section className='card-contents displayflex flexcol positionabs'>\r\n\t\t\t\t<span className='card-icon-container displayflex'>\r\n\t\t\t\t\t<React.Suspense fallback={<></>}>\r\n\t\t\t\t\t\t{svgIcon}\r\n\t\t\t\t\t</React.Suspense>\r\n\t\t\t\t</span>\r\n\t\t\t\t<header className='card-name-container medfont medfont-height'>\r\n\t\t\t\t\t<p className='card-name marginauto-height'>{props.data.name}</p>\r\n\t\t\t\t</header>\r\n\t\t\t\t<div className='card-buttons-container displayflex positionrel'>\r\n\t\t\t\t\t<button className={'outline-button ' + (props.addrem==='Add' ? 'green-button' : 'red-button')} onClick={sendClothing}>{props.addrem}</button>\r\n\t\t\t\t</div>\r\n\t\t\t</section>\r\n\t\t</article>\r\n\t);\r\n};\r\n\r\nexport default SuggestedClothingItem;","/* import CONSTANTS from '../assets/constants.json'; */\r\nimport { roundNumber } from '../assets/common';\r\n\r\n/* const fakeClothes = [\r\n\t{\r\n\t\t\"name\": \"sunglasses\",\r\n\t\t\"title\": \"sunglasses\",\r\n\t\t\"category\": \"headwear\",\r\n\t\t\"pronoun\": \"all\",\r\n\t\t\"primaryColor\": \"rgb(174, 159, 74)\",\r\n\t\t\"secondaryColor\": \"rgb(138, 154, 179)\",\r\n\t\t\"tertiaryColor\": null,\r\n\t\t\"selected\": false\r\n\t},\r\n\t{\r\n\t\t\"name\": \"long socks\",\r\n\t\t\"title\": \"longSocks\",\r\n\t\t\"category\": \"socks\",\r\n\t\t\"pronoun\": \"all\",\r\n\t\t\"primaryColor\": \"rgb(142, 44, 44)\",\r\n\t\t\"secondaryColor\": \"rgb(219, 202, 112)\",\r\n\t\t\"tertiaryColor\": \"rgb(219, 202, 112)\",\r\n\t\t\"selected\": false\r\n\t}\r\n]; */\r\n\r\nlet usersClothes = [\r\n\t{ \r\n\t\t\"clothing\": [\r\n\t\t\t{ \"category\": \"tops\", \"pronoun\": \"all\", \"name\": \"t-shirt\", \"primaryColor\": \"rgb(193, 163, 177)\", \"selected\": true, \"title\": \"tShirt\" }, \r\n\t\t\t{ \"category\": \"bottoms\", \"pronoun\": \"he\", \"name\": \"shorts\", \"primaryColor\": \"rgb(43, 72, 109)\", \"selected\": true, \"title\": \"shorts\" }\r\n\t\t], \r\n\t\t\"temperature\": 298.37, \r\n\t\t\"weatherId\": 800\r\n\t}\r\n];\r\n\r\nexport function getClothes(db, temperature, userObject) {\r\n\tif (usersClothes.length > 0) {\r\n\t\t/* console.log('clothes here'); */\r\n\t\t/* return usersClothes; */\r\n\t\treturn new Promise((resolve) => {\r\n\t\t\tresolve(getClothingSet());\r\n\t\t});\r\n\t} else {\r\n\t\treturn new Promise((resolve) => {\r\n\t\t\tdb.once('value').then(function (snapshot) {\r\n\t\t\t\tconst data = (snapshot.val() && snapshot.val().data) || [];\r\n\t\t\t\tconsole.log('ClothesAPI data: ', data);\r\n\t\t\t\tsetClothes(data, temperature);\r\n\t\t\t\tresolve(getClothingSet());\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\t/* return fakeClothes; */\r\n};\r\n\r\nconst setClothes = function (data, temperature) {\r\n\tconst tempHigh = roundNumber(temperature + 8);\r\n\tconst tempLow = roundNumber(temperature - 8);\r\n\tconsole.log(temperature, tempHigh, tempLow);\r\n\tconst timeKeys = Object.keys(data);\r\n\tconst timeKeysLen = timeKeys.length;\r\n\tlet filteredData = [];\r\n\tfor (let i = 0; i < timeKeysLen; i++) {\r\n\t\tconst keyTemperature = timeKeys[i].split('_')[1];\r\n\t\tconsole.log(keyTemperature);\r\n\t\tif ((keyTemperature <= tempHigh) && (tempLow <= keyTemperature)) {\r\n\t\t\tfilteredData.push(data[timeKeys[i]]);\r\n\t\t};\r\n\t};\r\n\tconsole.log('filteredData: ', filteredData);\r\n\tusersClothes = filteredData;\r\n\t/* return data[timeKeys[0]].clothing; */\r\n};\r\n\r\nexport function getClothingSet() {\r\n\tconst clothesLen = usersClothes.length;\r\n\tif (clothesLen === 0) {\r\n\t\treturn [];\r\n\t};\r\n\tconst random = Math.floor((Math.random() * clothesLen));\r\n\treturn usersClothes[random].clothing;\r\n};","import React, { useState, useEffect } from 'react';\r\nimport SuggestedClothingItem from '../components/SuggestedClothingItem';\r\nimport { getClothes, getClothingSet } from '../api/ClothesApi';\r\n\r\n\r\nconst WearSuggester = (props) => {\r\n\r\n\t/* console.log(\"WearSuggester \", props); */\r\n\t/* const wearCollection = props.db.current.collection(\"api\").doc(props.user.uid).collection(\"wear\"); */\r\n\t\r\n\tconst [suggestedClothes, setSuggestedClothes] = useState(null);\r\n\r\n\tuseEffect(() => {\r\n\t\t/* console.log('wear suggester useeffect'); */\r\n\t\tgetSuggestedClothes();\r\n\t}, \r\n\t// eslint-disable-next-line\r\n\t[props.db, props.userSettings.userObject]);\r\n\r\n\tconst editClothing = function(cloth, i) {\r\n\t\tconsole.log('Edit suggested clothing: ', cloth, i);\r\n\t\t/* const cloneSuggestedClothes = [...suggestedClothes];\r\n\t\tdelete cloneSuggestedClothes[i];\r\n\t\tconst newSuggestedClothes = cloneSuggestedClothes.filter(s=>s!==undefined);\r\n\t\tsetSuggestedClothes(newSuggestedClothes); */\r\n\t\tcloth.selected = true;\r\n\t\tprops.editClothing([cloth]);\r\n\t};\r\n\r\n\r\n\tconst getSuggestedClothes = function() {\r\n\t\tgetClothes(props.db, props.weather[props.currentCity].currentWeather.main.temp, props.userSettings.userObject).then(newClothes => {\r\n\t\t\t/* console.log('New Clothes: ', newClothes); */\r\n\t\t\tsetSuggestedClothes(newClothes);\r\n\t\t});\r\n\t};\r\n\r\n\tconst getNewSuggested = function() {\r\n\t\tconst newSet = getClothingSet();\r\n\t\tconsole.log(newSet);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<section id='WearSuggester' className='displayflex flexcol'>\r\n\t\t\t<h3 className='Wear-header biggerfont bold4'>Suggested for you</h3>\r\n\t\t\t{ (null===suggestedClothes) ?\r\n\t\t\t\t<section id='SuggestedClothes-container' className='displayflex three-card-row horz-scroll'>\r\n\t\t\t\t\t<div className='loadingcard displayflex'>\r\n\t\t\t\t\t\t<p className='marginauto medfont'>loading</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</section> :\r\n\t\t\t\t(suggestedClothes.length > 0) ?\r\n\t\t\t\t<>\r\n\t\t\t\t\t<section id='SuggestedClothes-container' className='displayflex three-card-row horz-scroll'>\r\n\t\t\t\t\t\t{ suggestedClothes.map((clo, i) => {\r\n\t\t\t\t\t\t\treturn <SuggestedClothingItem data={clo} key={i} editCloth={(cloth)=>editClothing(cloth, i)} addrem={'Add'} />\r\n\t\t\t\t\t\t}) }\r\n\t\t\t\t\t</section>\r\n\t\t\t\t\t<article className='Wear-submit-container displayflex positionrel'>\r\n\t\t\t\t\t\t<button className='solid-button large smallfont' onClick={getNewSuggested}>Suggest New Clothes</button>\r\n\t\t\t\t\t</article>\r\n\t\t\t\t</>\r\n\t\t\t\t: <article id='NoSuggestedClothes' className='displayflex flexcol nonselect'>\r\n\t\t\t\t\t<p className='marginauto-height medfont'>No Suggested Clothes Available</p>\r\n\t\t\t\t</article>\r\n\t\t\t}\r\n\t\t</section>\r\n\t);\r\n}\r\n\r\nexport default WearSuggester;","import React, { useState } from 'react';\r\nimport WearPicker from './WearPicker';\r\nimport WearSuggester from './WearSuggester';\r\nimport ClothingMap from '../assets/clothingMap.json';\r\n\r\n\r\nconst WearSection = (props) => {\r\n\r\n\t/* console.log('WearSection usersettings: ', props.userSettings); */\r\n\t/* let ClothingMap = JSON.parse(JSON.stringify(ClothingMap)); */\r\n\tconst clothingMapKeys = Object.keys(ClothingMap);\r\n\tconst clothingMapKeysLength = clothingMapKeys.length;\r\n\tfor (let i = 0; i < clothingMapKeysLength; i++) {\r\n\t\tlet clothingTitles = Object.keys(ClothingMap[clothingMapKeys[i]]);\r\n\t\tlet clothingTitlesLength = clothingTitles.length;\r\n\t\tfor (let j = 0; j < clothingTitlesLength; j++) {\r\n\t\t\tif (props.userSettings.pronoun === \"he\") {\r\n\t\t\t\tif (ClothingMap[clothingMapKeys[i]][clothingTitles[j]]['pronoun'] === \"she\") {\r\n\t\t\t\t\tdelete ClothingMap[clothingMapKeys[i]][clothingTitles[j]];\r\n\t\t\t\t};\r\n\t\t\t} else if (props.userSettings.pronoun === \"she\") {\r\n\t\t\t\tif (ClothingMap[clothingMapKeys[i]][clothingTitles[j]]['pronoun'] === \"he\") {\r\n\t\t\t\t\tdelete ClothingMap[clothingMapKeys[i]][clothingTitles[j]];\r\n\t\t\t\t};\r\n\t\t\t};\r\n\t\t};\r\n\t};\r\n\r\n\tconst [clothing, setClothing] = useState(ClothingMap);\r\n\r\n\tconst wearSetter = function(clothesArr) {\r\n\t\t/* console.log('wearSetter clothesArr: ', clothesArr); */\r\n\t\tlet oldClothingMap = JSON.parse(JSON.stringify(clothing));\r\n\t\tfor (let i = 0; i < clothesArr.length; i++) {\r\n\t\t\toldClothingMap[clothesArr[i].category][clothesArr[i].title] = clothesArr[i];\r\n\t\t};\r\n\t\t/* thisClothingMap = oldClothingMap; */\r\n\t\tsetClothing(oldClothingMap);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<section id='WearSection' className='main-tab displayflex flexcol'>\r\n\t\t\t<WearSuggester weather={props.weather} currentCity={props.currentCity} editClothing={(clothesArr)=>wearSetter(clothesArr)} db={props.db} user={props.user} userSettings={props.userSettings} />\r\n\t\t\t<WearPicker weather={props.weather} currentCity={props.currentCity} clothing={clothing} editClothing={(clothing)=>wearSetter(clothing)} />\r\n\t\t</section>\r\n\t)\r\n\r\n}\r\n\r\nexport default WearSection;","import React, { useRef } from 'react';\r\nimport { getAllWeatherData } from '../api/WeatherApi';\r\n\r\n\r\nconst CitySelector = (props) => {\r\n\r\n\tconst cityInputRef = useRef();\r\n\r\n\tconst _cityCheck = (city) => {\r\n\t\tconsole.log('_cityCheck for ', city);\r\n\t\tlet match = false;\r\n\t\tif (null !== props.weather && props.weather.length > 0) {\r\n\t\t\tfor (let i = 0; i < props.weather.length; i++) {\r\n\t\t\t\tif (city.localCompare(props.weather[i].name) > 0) {\r\n\t\t\t\t\tmatch = true;\r\n\t\t\t\t\tconsole.log('city ' + city + ' matched with weather name ' + props.weather[i].name);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t};\r\n\t\tif (false === match) {\r\n\t\t\tgetAllWeatherData(city)\r\n\t\t\t.then(([currentData, hourlyData, extendedData]) => {\r\n\t\t\t\tconsole.log('CitySelector data: ', [currentData, hourlyData, extendedData]);\r\n\t\t\t\tif (currentData.error || hourlyData.error || extendedData.error) {\r\n\t\t\t\t\talert('Weather data error');\r\n\t\t\t\t\tcityInputRef.current.value = '';\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlet newCity = {\r\n\t\t\t\t\t\t'index': 0,\r\n\t\t\t\t\t\t'name': currentData.name,\r\n\t\t\t\t\t\t'id': currentData.id,\r\n\t\t\t\t\t\t'currentWeather': currentData,\r\n\t\t\t\t\t\t'hourlyWeather': hourlyData,\r\n\t\t\t\t\t\t'extendedWeather': extendedData\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconsole.log('newcity: ', newCity);\r\n\t\t\t\t\tprops.cityPick(newCity);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\talert('City already added, select a new city');\r\n\t\t\tcityInputRef.current.value = '';\r\n\t\t};\r\n\t}\r\n\r\n\treturn (<article id='CitySelector' className='card card-shadow displayflex flexcol marginauto'>\r\n\t\t<header className='card-header card-row'>\r\n\t\t\t<span className='biggerfont'>Select a City</span>\r\n\t\t</header>\r\n\t\t<section className='card-row displayflex flexcol'>\r\n\t\t\t<input id='CityInput' className='outline-input biggerfont-height' type='text' name='zip' ref={cityInputRef}></input>\r\n\t\t</section>\r\n\t\t<section className='card-row displayflex'>\r\n\t\t\t<button className='outline-button green-button marginauto nonselect' onClick={()=>_cityCheck(cityInputRef.current.value)}>Submit</button>\r\n\t\t</section>\r\n\t</article>);\r\n\r\n};\r\n\r\n\r\nexport default CitySelector;","import React, { useState, useEffect } from 'react';\r\nimport './styles/ThemeSwitcher.scss';\r\n\r\nimport { getInitUserSettings, getSettings, setNewSetting } from './status/SettingsHandler';\r\nimport { handlerToggleTheme } from './status/ThemeHandler';\r\nimport * as WeatherHandler from './status/WeatherHandler';\r\n\r\nimport { getAllWeatherData } from './api/WeatherApi';\r\nimport Navbar from './views/Navbar';\r\nimport WeatherDaily from './views/WeatherDaily';\r\nimport WearSection from './views/WearSection';\r\nimport CitySelector from './components/CitySelector';\r\n\r\n\r\nconst App = (props) => {\r\n\r\n\tconsole.log('beginning of App');\r\n\r\n\tconst initUserSettings = getInitUserSettings(props.user);\r\n\tconst initWeatherCheck = WeatherHandler.weatherCacheCheck();\r\n\tconst weatherCodeObj = ((null !== initWeatherCheck[0]) && (null !== initWeatherCheck[0][0])) ? WeatherHandler.weatherDecoder(initWeatherCheck[0][0]['currentWeather']['weather'][0]['id']) : WeatherHandler.weatherDecoder(800);\r\n\t/* const weatherCodeObj = WeatherHandler.weatherDecoder(303); */\r\n\tconst initState = {\r\n\t\tuser: props.user,\r\n\t\tuserSettings: initUserSettings,\r\n\t\tthemeObj: (handlerToggleTheme(initUserSettings.theme)),\r\n\t\tcurrentCity: 0,\r\n\t\tweather: initWeatherCheck[0],\r\n\t\tweatherCached: initWeatherCheck[1],\r\n\t\tweatherLoading: ((false === initWeatherCheck[1]) ? false : true),\r\n\t\tweatherCodeObj: weatherCodeObj\r\n\t};\r\n\tconst [appState, setAppState] = useState(initState);\r\n\r\n\t\r\n\tuseEffect(() => {\r\n\t\t_tryUpdateWeather();\r\n\t}, \r\n\t// eslint-disable-next-line\r\n\t[]);\r\n\r\n\r\n\tconst _setNewUser = (newUser) => {\r\n\t\tconsole.log('newUser: ', newUser);\r\n\t\tconst newState = {...appState};\r\n\t\tnewState.user = newUser;\r\n\t\tsetAppState(newState);\r\n\t\twindow.location.reload();\r\n\t\treturn false;\r\n\t};\r\n\r\n\tconst _setNewCity = (cityWeather) => {\r\n\t\tconsole.log('_setNewCity current weather: ', appState.weather);\r\n\t\tconsole.log('new weather for city: ', cityWeather);\r\n\t\tconst updatedWeather = WeatherHandler.addToWeather(appState.weather, cityWeather);\r\n\t\tconst newState = {...appState};\r\n\t\tnewState.weatherLoading = false;\r\n\t\tnewState.weatherCached = false;\r\n\t\tnewState.weather = updatedWeather;\r\n\t\tsetAppState(newState);\r\n\t};\r\n\r\n\tconst _tryUpdateWeather = () => {\r\n\t\tconst weatherCheck = WeatherHandler.weatherCacheCheck();\r\n\t\tconsole.log('Check if weatherCached is old: ', weatherCheck[1]);\r\n\t\tif (true === weatherCheck[1]) {\r\n\t\t\t_updateWeather();\r\n\t\t\tconsole.log('updated weather from useEffect');\r\n\t\t};\r\n\t}\r\n\r\n\tconst _updateWeather = () => {\r\n\t\tlet newWeather = (null === appState.weather) ? initWeatherCheck[0] : appState.weather.slice();\r\n\t\tlet city = newWeather[appState.currentCity]['name'];\r\n\t\tconsole.log('App updating Weather for city: ', city);\r\n\t\tgetAllWeatherData(city).then(([currentData, hourlyData, extendedData]) => {\r\n\t\t\tconsole.log('_updateWeather data: ', [currentData, hourlyData, extendedData]);\r\n\t\t\tif (currentData.error || hourlyData.error || extendedData.error) {\r\n\t\t\t\tconsole.log('Weather data error');\r\n\t\t\t\tconsole.log('Setting weather from cache: ', initWeatherCheck[0][appState.currentCity]);\r\n\t\t\t\tconst weatherCodeObj = WeatherHandler.weatherDecoder(initWeatherCheck[0][appState.currentCity]['currentWeather']['weather'][0]['id']);\r\n\t\t\t\tconst newState = {...appState};\r\n\t\t\t\tnewState.weatherLoading = false;\r\n\t\t\t\tnewState.weather = initWeatherCheck[0];\r\n\t\t\t\tnewState.weatherCodeObj = weatherCodeObj;\r\n\t\t\t\tsetAppState(newState);\r\n\t\t\t} else {\r\n\t\t\t\tlet newWeatherData = {\r\n\t\t\t\t\t'index': appState.currentCity,\r\n\t\t\t\t\t'name': currentData.name,\r\n\t\t\t\t\t'id': currentData.id,\r\n\t\t\t\t\t'currentWeather': currentData,\r\n\t\t\t\t\t'hourlyWeather': hourlyData,\r\n\t\t\t\t\t'extendedWeather': extendedData\r\n\t\t\t\t};\r\n\t\t\t\tconsole.log('newWeather: ', newWeatherData);\r\n\t\t\t\tconst weatherCodeObj = WeatherHandler.weatherDecoder(currentData['weather'][0]['id']);\r\n\t\t\t\tnewWeather[appState.currentCity] = newWeatherData;\r\n\t\t\t\tWeatherHandler.setWeatherCache(newWeather);\r\n\t\t\t\tconst newState = {...appState};\r\n\t\t\t\tnewState.weatherCached = false;\r\n\t\t\t\tnewState.weatherLoading = false;\r\n\t\t\t\tnewState.weather = newWeather;\r\n\t\t\t\tnewState.weatherCodeObj = weatherCodeObj;\r\n\t\t\t\tconsole.log('new state: ', newState);\r\n\t\t\t\tsetAppState(newState);\r\n\t\t\t};\r\n\t\t});\r\n\t}\r\n\r\n\tconst _setNewTheme = (newTheme) => {\r\n\t\tconsole.log('setNewTheme: ', newTheme);\r\n\t\tlet newThemeObj = handlerToggleTheme(newTheme);\r\n\t\t/* console.log('oldUserSettings: ', {...userSettings}); */\r\n\t\t/* console.log('newThemeObj: ', newThemeObj); */\r\n\t\tconst newUserSettings = getSettings();\r\n\t\tconst newState = {...appState};\r\n\t\tnewState.userSettings = {...newUserSettings};\r\n\t\tnewState.themeObj = {...newThemeObj};\r\n\t\tsetAppState(newState);\r\n\t};\r\n\r\n\tconst _setNewSetting = (ky, vl) => {\r\n\t\tconst newState = {...appState};\r\n\t\tconst newUserSettings = setNewSetting(ky, vl);\r\n\t\tnewState.userSettings = newUserSettings;\r\n\t\tsetAppState(newState);\r\n\t\tif (ky === 'pronoun') {\r\n\t\t\twindow.location.reload(false);\r\n\t\t};\r\n\t};\r\n\r\n\tconsole.log('render appState: ', appState);\r\n\treturn (\r\n\t\t<div id='App' className={'displayflex positionrel ' + ((appState.user === null) ? 'nouser ' : '') + appState.themeObj[appState.userSettings.theme].class}>\r\n\t\t\t{ (null !== appState.weatherCached) ? <>\r\n\t\t\t\t<main id='App-main' className={'displayflex marginauto positionrel' + ((null === appState.weather) ? ' full' : '') + ' ' + appState.weatherCodeObj.ambiance + ' ' + appState.weatherCodeObj.background}>\r\n\t\t\t\t\t<article id='App-main-inner' className='displayflex flexcol'>\r\n\t\t\t\t\t\t{ (appState.weatherLoading === false) ? <>\r\n\t\t\t\t\t\t\t<WeatherDaily weather={appState.weather}  currWeatherUpdate={()=>_updateWeather()} scale={appState.userSettings.scale} currentCity={appState.currentCity} weatherCodeObj={appState.weatherCodeObj} />\r\n\t\t\t\t\t\t\t{ (null !== appState.user && null !== appState.weather) && <WearSection weather={appState.weather} scale={appState.userSettings.scale} currentCity={appState.currentCity} userSettings={appState.userSettings} user={appState.user} db={props.db} /> }\r\n\t\t\t\t\t\t\t</> : <span>loading</span>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</article>\r\n\t\t\t\t\t<section id='App-main-blur-background' className='positionfixed'></section>\r\n\t\t\t\t\t<section id='App-main-weather-background' className='positionfixed'>\r\n\t\t\t\t\t\t<article id='rain-container' className='App-main-weather-container'>\r\n\t\t\t\t\t\t\t<span className='raindrop-container one'>\r\n\t\t\t\t\t\t\t\t<span className='raindrop weather-drop'></span>\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t<span className='raindrop-container two'>\r\n\t\t\t\t\t\t\t\t<span className='raindrop weather-drop'></span>\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t<span className='raindrop-container three'>\r\n\t\t\t\t\t\t\t\t<span className='raindrop weather-drop'></span>\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t<span className='raindrop-container four'>\r\n\t\t\t\t\t\t\t\t<span className='raindrop weather-drop'></span>\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t<span className='raindrop-container five'>\r\n\t\t\t\t\t\t\t\t<span className='raindrop weather-drop'></span>\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t<span className='raindrop-container six'>\r\n\t\t\t\t\t\t\t\t<span className='raindrop weather-drop'></span>\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t<span className='raindrop-container seven'>\r\n\t\t\t\t\t\t\t\t<span className='raindrop weather-drop'></span>\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</article>\r\n\t\t\t\t\t</section>\r\n\t\t\t\t</main>\r\n\t\t\t\t<Navbar user={appState.user} themeObj={appState.themeObj} sendNewTheme={(newTheme)=>_setNewTheme(newTheme)} userUpdate={(user)=>_setNewUser(user)} color={appState.weatherCodeObj.color} userSettings={appState.userSettings} sendNewSetting={(ky, vl)=>_setNewSetting(ky, vl)} refreshWeather={_tryUpdateWeather} />\r\n\t\t\t</> : <main id='App-main' className='displayflex positionrel'>\r\n\t\t\t\t<CitySelector weather={appState.weather} cityPick={(newCityWeather)=>_setNewCity(newCityWeather)} /> \r\n\t\t\t</main> }\r\n\t\t</div>\r\n\t);\r\n\r\n}\r\n\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n//import { getSettings } from './status/SettingsHandler';\r\nimport './index.css';\r\nimport firebase from './status/Firebase';\r\n//import * as serviceWorker from './serviceWorker';\r\n\r\n\r\n/* Check for cookie here */\r\n/* let initUserId = '00000001'; */\r\nconsole.log(process.env);\r\nlet user = null;\r\n/* let myFirestore = null; */\r\nlet myFireDatabase = null;\r\nfirebase.auth().onAuthStateChanged(function(userCheck) {\r\n\tif (userCheck) {\r\n\t\tuser = userCheck;\r\n\t\t/* myFirestore = firebase.firestore(); */\r\n\t\tmyFireDatabase = firebase.database().ref(`/users/${user.uid}`);\r\n\t\t/* console.log(myFirestore.ref()); */\r\n\t} else {\r\n\t\tconsole.log('no userCheck found');\r\n\t}\r\n\r\n\t/* let initSettings = JSON.parse(localStorage.getItem(\"userSettings\")) || getSettings();\r\n\ttry {\r\n\t\tlocalStorage.setItem('userSettings', JSON.stringify(initSettings));\r\n\t} catch(err) {\r\n\t\tconsole.log('Writing to local Storage error for userSettings: ', initSettings);\r\n\t}\r\n\tuserSettings={initSettings} */\r\n\r\n\tconst gpsAvailable = (\"geolocation\" in navigator) ? true : false;\r\n\r\n\tReactDOM.render(\r\n\t\t<App user={user} db={myFireDatabase} gpsAvailable={gpsAvailable} />, \r\n\t\tdocument.getElementById('root')\r\n\t);\r\n\r\n});\r\n\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\n//serviceWorker.unregister();\r\n"],"sourceRoot":""}