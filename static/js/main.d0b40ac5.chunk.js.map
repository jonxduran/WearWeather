{"version":3,"sources":["status/SettingsHandler.js","status/ThemeHandler.js","assets/common.js","status/WeatherHandler.js","api/WeatherApi.js","status/Firebase.js","components/SettingsBar.js","components/UserLogin.js","views/Navbar.js","components/CurrentWeatherCard.js","components/HourlyWeatherCard.js","components/ExtendedWeatherCard.js","views/WeatherDaily.js","status/ClothingHandler.js","components/ClothingItem.js","views/WearPicker.js","components/SuggestedClothingItem.js","api/ClothesApi.js","views/WearSuggester.js","views/WearSection.js","components/CitySelector.js","App.js","index.js"],"names":["userSettings","setNewSetting","ky","vl","localStorage","setItem","JSON","stringify","err","console","log","getSettings","darkModeMediaQuery","window","matchMedia","OSTheme","matches","themes","handlerToggleTheme","newActiveTheme","Object","keys","forEach","thm","weekDays","isNight","theHour","getSimpleTime","tme","scale","tempDate","Date","hr","getHours","addLeadingZero","getMinutes","getTemperature","temp","frmt","Math","round","roundNumber","num","SunnyClearIcon","lazy","NightClearIcon","PartlyCloudyIcon","CloudyIcon","CloudyAlertIcon","PartlyRainyIcon","RainyIcon","PouringIcon","LightningIcon","SnowyIcon","FogIcon","WindyIcon","WindyVariantIcon","now","weatherCacheCheck","weather","weatherCached","oldWeatherStr","getItem","oldWeather","parse","checkTime","getTime","date","setWeatherCache","weatherArr","weatherCache","error","weatherDecoder","id","decoded","test","ambiance","description","background","color","icon","timeIcon","getCurrentData","city","currentUrl","CONSTANTS","currentForecastUrl","fetch","then","res","ok","Error","json","catch","getHourlyData","hourlyUrl","hourlyForecastUrl","getExtendedData","extendedUrl","extendedForecastUrl","getAllWeatherData","Promise","all","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","database","firebaseUI","firebaseui","AuthUI","auth","firebaseUIConfig","callbacks","signInSuccessWithAuthResult","authResult","redirectUrl","uiShown","signInFlow","signInSuccessUrl","signInOptions","GoogleAuthProvider","PROVIDER_ID","EmailAuthProvider","tosUrl","privacyPolicyUrl","CloseIcon","SettingsBar","props","unitObj","unit","active","uo","pronounObj","pronoun","po","useState","menuOpen","setMenu","themeRef","useRef","unitRef","pronounRef","_overlayCheck","bool","document","querySelector","classList","remove","add","className","onClick","getElementById","setTimeout","refreshWeather","user","accessUserLoginClick","displayName","Suspense","fallback","type","ref","themeObj","filter","map","i","htmlFor","key","sendNewTheme","current","checked","_themeClick","unt","sendNewSetting","pro","location","reload","signOut","UserLogin","firebaseUIRef","React","createRef","useEffect","elem","start","onAuthStateChanged","userUpdate","closeClick","Navbar","userLoginOpen","setUserLoginOpen","newTheme","newUser","CurrentWeatherCard","allWeather","currCity","weatherCodeObj","currentWeather","dt","main","getDay","name","temp_max","temp_min","HourlyWeatherCard","temperatureD3","temperaturesArr","data","list","slice","hw","where","myData","whereWidth","offsetWidth","whereHeight","offsetHeight","xScale","d3","range","domain","d","timeObj","yScale","rangeRound","temperature","svg","append","attr","line","x","y","datum","_buildD3","timeSimple","ExtendedWeatherCard","dte","Common","currentCity","max","min","WeatherDaily","length","allW","extendedWeather","wh","DressIcon","DressShirtIcon","JeansIcon","LongSocksIcon","ShortsIcon","ShortShortsIcon","SkirtIcon","SunglassesIcon","SweaterIcon","TightsIcon","TShirtIcon","getClothingSvg","title","primaryColor","secondaryColor","tertiaryColor","ClothingItem","redSlider","greenSlider","blueSlider","getRGB","replace","split","clothingChangeSend","action","editedClothing","newCloth","selected","editCloth","colorChange","func","duration","timeout","args","effect","apply","clearTimeout","debounce","newVal","rgbLabel","rgbIndex","activeColorLabel","clothingState","activeColorSwap","activeRgbNew","newRgb","toString","newSvgIcon","dispatch","getNewClothingState","colorLabel","isActive","colorSwapIndex","cardActive","red","green","blue","svgIcon","initClothingState","useReducer","state","newState","index","activeColor","value","newClothingState","addrem","style","backgroundColor","step","defaultValue","onChange","e","target","WearPicker","clothingCategories","clothing","clothingCategoriesLength","selectedClothes","otherClothes","cc","c","category","categoryItems","categoryItemsKeys","categoryItemsKeysLength","push","editClothing","cloth","clothcat","catcloth","j","selcloth","submittedClothing","weatherId","SuggestedClothingItem","usersClothes","setClothes","tempHigh","tempLow","timeKeys","timeKeysLen","filteredData","keyTemperature","getClothingSet","clothesLen","random","floor","WearSuggester","suggestedClothes","setSuggestedClothes","getSuggestedClothes","db","userObject","resolve","once","snapshot","val","newClothes","clo","newSet","WearSection","clothingMapKeys","ClothingMap","clothingMapKeysLength","clothingTitles","clothingTitlesLength","setClothing","wearSetter","clothesArr","oldClothingMap","CitySelector","cityInputRef","onSubmit","match","localCompare","currentData","hourlyData","extendedData","alert","newCity","cityPick","preventDefault","margin","App","initUserSettings","getInitUserSettings","initWeatherCheck","WeatherHandler","initState","theme","weatherLoading","appState","setAppState","_tryUpdateWeather","_setNewCity","cityWeather","newWeather","updatedWeather","weatherCheck","_updateWeather","newWeatherData","class","currWeatherUpdate","aria-hidden","href","rel","newThemeObj","newUserSettings","_setNewTheme","_setNewUser","_setNewSetting","newCityWeather","process","myFireDatabase","userCheck","uid","gpsAvailable","navigator","ReactDOM","render"],"mappings":"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","file":"static/js/main.d0b40ac5.chunk.js","sourcesContent":["\r\n/* const darkModeMediaQuery = window.matchMedia('(prefers-color-scheme: dark)');\r\nconst OSTheme = handleDarkmode(darkModeMediaQuery);\r\nfunction handleDarkmode(e){\r\n\tconst darkModeOn = e.matches;\r\n\treturn (darkModeOn) ? 'dark-theme' : 'light-theme';\r\n};\r\nconsole.log('OSTheme: ', OSTheme); */\r\n\r\nlet userSettings = {\r\n\t\"scale\": \"f\",\r\n\t\"pronoun\": \"he\",\r\n\t\"theme\": 'system-theme'\r\n};\r\n\r\nexport function getInitUserSettings(user) { \r\n\tlet initUserSettings = JSON.parse(localStorage.getItem(\"userSettingsCache\")) || getSettings();\r\n\t/* let initUserSettings = getSettings(); */\r\n\tinitUserSettings.userObject = user;\r\n\t/* console.log('initUserSettings: ', initUserSettings); */\r\n\tuserSettings = initUserSettings;\r\n\treturn initUserSettings;\r\n}\r\n\r\nexport function setNewSetting(ky, vl) {\r\n\t/* console.log('setNewSetting ', ky, vl); */\r\n\tuserSettings[ky] = vl;\r\n\t/* console.log('new user settings: ', userSettings); */\r\n\ttry {\r\n\t\tlocalStorage.setItem('userSettingsCache',  JSON.stringify(userSettings));\r\n\t} catch(err) {\r\n\t\tconsole.log('Writing to local Storage error for userSettings: ', userSettings);\r\n\t}\r\n\treturn userSettings;\r\n};\r\n\r\nexport function getSettings() {\r\n\treturn userSettings;\r\n};","import React from 'react';\r\nimport WeatherSunnyIcon from 'mdi-react/WeatherSunnyIcon';\r\nimport WeatherNightIcon from 'mdi-react/WeatherNightIcon';\r\nimport CellphoneIcon from 'mdi-react/CellphoneIcon';\r\nimport { setNewSetting } from '../status/SettingsHandler';\r\n\r\n\r\nconst darkModeMediaQuery = window.matchMedia('(prefers-color-scheme: dark)');\r\nconst OSTheme = handleDarkmode(darkModeMediaQuery);\r\nfunction handleDarkmode(e){\r\n\tconst darkModeOn = e.matches;\r\n\treturn (darkModeOn) ? 'dark-theme' : 'light-theme';\r\n};\r\n/* console.log('OSTheme: ', OSTheme); */\r\n\r\n\r\nexport function getOSTheme() {\r\n\treturn OSTheme;\r\n};\r\n\r\n\r\nlet themes = {\r\n\t\"light-theme\": {\r\n\t\t\"active\": false,\r\n\t\t\"title\": \"Light\",\r\n\t\t\"class\": \"light-theme\",\r\n\t\t\"key\": \"light-theme\",\r\n\t\t\"icon\": <WeatherSunnyIcon />\r\n\t},\r\n\t\"dark-theme\": {\r\n\t\t\"active\": false,\r\n\t\t\"title\": \"Dark\",\r\n\t\t\"class\": \"dark-theme\",\r\n\t\t\"key\": \"dark-theme\",\r\n\t\t\"icon\": <WeatherNightIcon />\r\n\t},\r\n\t\"system-theme\" : {\r\n\t\t\"active\": false,\r\n\t\t\"title\": \"System\",\r\n\t\t\"class\": OSTheme,\r\n\t\t\"key\": \"system-theme\",\r\n\t\t\"icon\": <CellphoneIcon />\r\n\t}\r\n};\r\n\r\nexport function handlerToggleTheme(newActiveTheme) {\r\n\t/* console.log('newActiveTheme: ', newActiveTheme); */\r\n\tObject.keys(themes).forEach(thm => {\r\n\t\tthemes[thm]['active'] = false\r\n\t});\r\n\tthemes[newActiveTheme]['active'] = true;\r\n\tsetNewSetting('theme', themes[newActiveTheme]['key']);\r\n\treturn themes;\r\n};","\r\nlet initialized = false;\r\nexport function setInitialized() {\r\n\tinitialized = true;\r\n};\r\nexport function getInitialized() {\r\n\treturn initialized;\r\n};\r\n\r\nexport const weekDays = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\r\n\r\nexport function isNight(theHour) {\r\n\treturn (theHour < 6 || theHour > 19) ? true : false;\r\n};\r\n\r\nexport function addLeadingZero(tme) {\r\n\tif (tme < 10) {\r\n\t\ttme = \"0\" + tme;\r\n\t}\r\n\treturn tme;\r\n};\r\n\r\nexport function getSimpleTime(tme, scale) {\r\n\tconst tempDate = new Date(tme);\r\n\tconst hr = tempDate.getHours();\r\n\tif (scale === 'c') {\r\n\t\treturn (hr + ':' + addLeadingZero(tempDate.getMinutes()));\r\n\t};\r\n\tif (hr === 0) {\r\n\t\treturn '12am';\r\n\t} else if (hr < 13) {\r\n\t\treturn (hr + 'am');\r\n\t} else {\r\n\t\treturn ((hr-12) + 'pm');\r\n\t};\r\n}\r\n\r\nexport function getTemperature(temp, frmt) {\r\n\tif (frmt === 'f') {\r\n\t\treturn Math.round(((temp - 273.15) * 1.8) + 32);\r\n\t} else {\r\n\t\treturn Math.round(temp - 273.15);\r\n\t}\r\n};\r\n\r\nexport function debounce(func, duration) {\r\n\tlet timeout;\r\n\treturn function(...args) {\r\n\t\tconst effect = () => {\r\n\t\t\ttimeout = null;\r\n\t\t\treturn func.apply(this, args);\r\n\t\t};\r\n\t\tclearTimeout(timeout);\r\n\t\ttimeout = setTimeout(effect, duration);\r\n\t};\r\n};\r\n\r\nexport function roundNumber(num) {\r\n\treturn Math.round(num);\r\n};","import React, { lazy } from 'react';\r\nimport { isNight } from '../assets/common';\r\n\r\nconst SunnyClearIcon = lazy(() => import('mdi-react/WeatherSunnyIcon'));\r\nconst NightClearIcon = lazy(() => import('mdi-react/WeatherNightIcon'));\r\nconst PartlyCloudyIcon = lazy(() => import('mdi-react/WeatherPartlyCloudyIcon'));\r\nconst CloudyIcon = lazy(() => import('mdi-react/WeatherCloudyIcon'));\r\nconst CloudyAlertIcon = lazy(() => import('mdi-react/WeatherCloudyAlertIcon'));\r\nconst PartlyRainyIcon = lazy(() => import('mdi-react/WeatherPartlyRainyIcon'));\r\nconst RainyIcon = lazy(() => import('mdi-react/WeatherRainyIcon'));\r\nconst PouringIcon = lazy(() => import('mdi-react/WeatherPouringIcon'));\r\nconst LightningIcon = lazy(() => import('mdi-react/WeatherLightningIcon'));\r\nconst SnowyIcon = lazy(() => import('mdi-react/WeatherSnowyIcon'));\r\nconst FogIcon = lazy(() => import('mdi-react/WeatherFogIcon'));\r\nconst WindyIcon = lazy(() => import('mdi-react/WeatherWindyIcon'));\r\nconst WindyVariantIcon = lazy(() => import('mdi-react/WeatherWindyVariantIcon'));\r\n\r\nconst now = new Date(); \r\n\r\n\r\n/*\r\nweather cache exists and is new enough - [weather, false]\r\nweather cache exists and is old - [weather, true]\r\nno weather cache exists - [null, null]\r\n*/\r\nexport function weatherCacheCheck() {\r\n\tlet weather = null;\r\n\tlet weatherCached = false;\r\n\tlet oldWeatherStr = localStorage.getItem(\"weatherCache\") || null;\r\n\tif (oldWeatherStr) {\r\n\t\tlet oldWeather = JSON.parse(oldWeatherStr);\r\n\t\t/* console.log('oldWeather: ', oldWeather); */\r\n\t\t/* let cacheDate = new Date(oldWeather.date); */\r\n\t\tlet checkTime = new Date().getTime() - (15 * 60 * 1000); /*000*/\r\n\t\t/* let checkDate = new Date(checkTime); */\r\n\t\t/* console.log('cacheDate: ', cacheDate, ' isGreater?checkDate: ', checkDate); */\r\n\t\tweather = oldWeather.weather;\r\n\t\tif (oldWeather.date < checkTime) {\r\n\t\t\tweatherCached = true;\r\n\t\t\tconsole.log('oldWeather is old, marking as cached');\r\n\t\t} else {\r\n\t\t\tconsole.log('oldWeather is still fresh, date more recent than checkDate');\r\n\t\t};\r\n\t} else {\r\n\t\tweatherCached = null;\r\n\t};\r\n\treturn [weather, weatherCached];\r\n}\r\n\r\n/* export function refreshWeather() {\r\n\r\n} */\r\n\r\nexport function addToWeather(weatherArr, newWeather) {\r\n\tif (null === weatherArr) { weatherArr = []; };\r\n\tweatherArr.push(newWeather);\r\n\tlet finalWeatherArr = setWeatherCache(weatherArr);\r\n\treturn finalWeatherArr;\r\n}\r\n\r\nexport function setWeatherCache (weatherArr) {\r\n\tlet now = new Date().getTime();\r\n\tlet weatherCache = {\r\n\t\t'date': now,\r\n\t\t'weather': weatherArr\r\n\t};\r\n\tconsole.log('setting weatherCache: ', weatherCache);\r\n\ttry {\r\n\t\tlocalStorage.setItem('weatherCache', JSON.stringify(weatherCache));\r\n\t} catch(error) {\r\n\t\tconsole.log(\"Writing to local Storage error for weatherCache:\", error);\r\n\t}\r\n\treturn weatherArr;\r\n}\r\n\r\nexport function weatherDecoder(id) {\r\n\tlet decoded;\r\n\tswitch(true) {\r\n\t\tcase (/2[0-9][0-9]/).test(id):\r\n\t\t\tdecoded = {\r\n\t\t\t\tambiance: 'dark',\r\n\t\t\t\tdescription: 'thunderstorm',\r\n\t\t\t\tbackground: 'rain',\r\n\t\t\t\tcolor: 'darkblue',\r\n\t\t\t\ticon: <LightningIcon />\r\n\t\t\t};\r\n\t\t\tbreak;\r\n\t\tcase (/3[0-9][0-9]/).test(id):\r\n\t\t\tdecoded = {\r\n\t\t\t\tambiance: 'light',\r\n\t\t\t\tdescription: 'drizzle',\r\n\t\t\t\tbackground: 'rain',\r\n\t\t\t\tcolor: 'blue',\r\n\t\t\t\ticon: <PartlyRainyIcon />\r\n\t\t\t};\r\n\t\t\tbreak;\r\n\t\tcase (/50[2-4]/).test(id):\r\n\t\t\tdecoded = {\r\n\t\t\t\tambiance: 'dark',\r\n\t\t\t\tdescription: 'heavy rain',\r\n\t\t\t\tbackground: 'rain',\r\n\t\t\t\tcolor: 'darkblue',\r\n\t\t\t\ticon: <PouringIcon />\r\n\t\t\t};\r\n\t\t\tbreak;\r\n\t\tcase (/5[0-9][0-9]/).test(id):\r\n\t\t\tdecoded = {\r\n\t\t\t\tambiance: 'medium',\r\n\t\t\t\tdescription: 'rain',\r\n\t\t\t\tbackground: 'rain',\r\n\t\t\t\tcolor: 'blue',\r\n\t\t\t\ticon: <RainyIcon />\r\n\t\t\t};\r\n\t\t\tbreak;\r\n\t\tcase (/6[0-9][0-9]/).test(id):\r\n\t\t\tdecoded = {\r\n\t\t\t\tambiance: 'medium',\r\n\t\t\t\tdescription: 'snow',\r\n\t\t\t\tbackground: 'snow',\r\n\t\t\t\tcolor: 'gray',\r\n\t\t\t\ticon: <SnowyIcon />\r\n\t\t\t};\r\n\t\t\tbreak;\r\n\t\tcase (/7[0,2,4]1/).test(id):\r\n\t\t\tdecoded = {\r\n\t\t\t\tambiance: 'medium',\r\n\t\t\t\tdescription: 'fog',\r\n\t\t\t\tbackground: 'cloud',\r\n\t\t\t\tcolor: 'gray',\r\n\t\t\t\ticon: <FogIcon />\r\n\t\t\t};\r\n\t\t\tbreak;\r\n\t\tcase (/711/).test(id):\r\n\t\t\tdecoded = {\r\n\t\t\t\tambiance: 'medium',\r\n\t\t\t\tdescription: 'smoke',\r\n\t\t\t\tbackground: 'cloud',\r\n\t\t\t\tcolor: 'gray',\r\n\t\t\t\ticon: <CloudyAlertIcon />\r\n\t\t\t};\r\n\t\t\tbreak;\r\n\t\tcase (/7[3,5]1/).test(id):\r\n\t\t\tdecoded = {\r\n\t\t\t\tambiance: 'medium',\r\n\t\t\t\tdescription: 'sand',\r\n\t\t\t\tbackground: 'wind',\r\n\t\t\t\tcolor: 'lightbrown',\r\n\t\t\t\ticon: <WindyVariantIcon />\r\n\t\t\t};\r\n\t\t\tbreak;\r\n\t\tcase (/76[1-2]/).test(id):\r\n\t\t\tdecoded = {\r\n\t\t\t\tambiance: 'medium',\r\n\t\t\t\tdescription: 'dust',\r\n\t\t\t\tbackground: 'wind',\r\n\t\t\t\tcolor: 'lightbrown',\r\n\t\t\t\ticon: <WindyVariantIcon />\r\n\t\t\t};\r\n\t\t\tbreak;\r\n\t\tcase (/7[7-8]1/).test(id):\r\n\t\t\tdecoded = {\r\n\t\t\t\tambiance: 'light',\r\n\t\t\t\tdescription: 'strong winds',\r\n\t\t\t\tbackground: 'wind',\r\n\t\t\t\tcolor: 'gray',\r\n\t\t\t\ticon: <WindyIcon />\r\n\t\t\t};\r\n\t\t\tbreak;\r\n\t\tcase (/800/).test(id):\r\n\t\t\tdecoded = {\r\n\t\t\t\tambiance: 'light',\r\n\t\t\t\tdescription: 'clear',\r\n\t\t\t\tbackground: 'clear',\r\n\t\t\t\tcolor: 'yellow',\r\n\t\t\t\ticon: <SunnyClearIcon />,\r\n\t\t\t\ttimeIcon: isNight(now.getHours()) ? <NightClearIcon /> : <SunnyClearIcon />\r\n\t\t\t};\r\n\t\t\tbreak;\r\n\t\tcase (/80[1-2]/).test(id):\r\n\t\t\tdecoded = {\r\n\t\t\t\tambiance: 'light',\r\n\t\t\t\tdescription: 'partly cloudy',\r\n\t\t\t\tbackground: 'clear',\r\n\t\t\t\tcolor: 'lightgray',\r\n\t\t\t\ticon: <PartlyCloudyIcon />\r\n\t\t\t};\r\n\t\t\tbreak;\r\n\t\tcase (/80[3-4]/).test(id):\r\n\t\t\tdecoded = {\r\n\t\t\t\tambiance: 'medium',\r\n\t\t\t\tdescription: 'cloudy',\r\n\t\t\t\tbackground: 'cloud',\r\n\t\t\t\tcolor: 'gray',\r\n\t\t\t\ticon: <CloudyIcon />\r\n\t\t\t};\r\n\t\t\tbreak;\r\n\t\tdefault: \r\n\t\t\tdecoded = {\r\n\t\t\t\tambiance: 'light',\r\n\t\t\t\tdescription: 'clear',\r\n\t\t\t\tbackground: 'clear',\r\n\t\t\t\tcolor: 'yellow',\r\n\t\t\t\ticon: <SunnyClearIcon />,\r\n\t\t\t\ttimeIcon: isNight(now.getHours()) ? <NightClearIcon /> : <SunnyClearIcon />\r\n\t\t\t};\r\n\t\t\tbreak;\r\n\t}\r\n\treturn decoded;\r\n};\r\n","import CONSTANTS from '../assets/constants.json';\r\n/* import CURRENTWEATHER from '../assets/sampleCurrentWeather.json';\r\nimport HOURLYWEATHER from '../assets/sampleHourlyWeather.json';\r\nimport EXTENDEDWEATHER from '../assets/sampleExtendedWeather.json'; */\r\n\r\n\r\nexport function getCurrentData(city) {\r\n\t/* return CURRENTWEATHER; */\r\n\tconst currentUrl = CONSTANTS.currentForecastUrl + `&q=${city}`;\r\n\treturn fetch(currentUrl).then(res => {\r\n\t\tif (!res.ok) {\r\n\t\t\tthrow Error('currentForecast API error')\r\n\t\t};\r\n\t\treturn res;\r\n\t}).then(res => res.json()).catch(err => {\r\n\t\treturn { 'error': 'Issue getting weather data', 'detailedError': `getCurrentData API fail for ${city}` };\r\n\t});\r\n}\r\n\r\nexport function getHourlyData(city) {\r\n\t/* return HOURLYWEATHER; */\r\n\tconst hourlyUrl = CONSTANTS.hourlyForecastUrl + `&q=${city}`;\r\n\treturn fetch(hourlyUrl).then(res => {\r\n\t\tif (!res.ok) {\r\n\t\t\tthrow Error('hourlyForecast API error')\r\n\t\t};\r\n\t\treturn res;\r\n\t}).then(res => res.json()).catch(err => {\r\n\t\treturn { 'error': 'Issue getting weather data', 'detailedError': `getHourlyData API fail for ${city}` };\r\n\t});\r\n}\r\n\r\nexport function getExtendedData(city) {\r\n\t/* return EXTENDEDWEATHER; */\r\n\tconst extendedUrl = CONSTANTS.extendedForecastUrl + `&q=${city}`;\r\n\treturn fetch(extendedUrl).then(res => {\r\n\t\tif (!res.ok) {\r\n\t\t\tthrow Error('extendedForecast API error')\r\n\t\t};\r\n\t\treturn res;\r\n\t}).then(res => res.json()).catch(err => {\r\n\t\treturn { 'error': 'Issue getting weather data', 'detailedError': `getExtendedData API fail for ${city}` };\r\n\t});\r\n}\r\n\r\nexport function getAllWeatherData(city){\r\n\treturn Promise.all([\r\n\t\tgetCurrentData(city), \r\n\t\tgetHourlyData(city), \r\n\t\tgetExtendedData(city)\r\n\t]);\r\n};\r\n","import firebase from 'firebase/app';\r\nimport 'firebase/firestore';\r\nimport 'firebase/database';\r\nimport 'firebase/auth';\r\nimport * as firebaseui from 'firebaseui';\r\nimport 'firebaseui/dist/firebaseui.css';\r\n\r\n//console.log(process.env.FIREBASE_APIKEY);\r\n\r\nconst firebaseConfig = {\r\n\tapiKey: 'AIzaSyD8LP5CySz_KrrgaLiO3-OM-EUpYhFhXQA',\r\n\tauthDomain: \"wearweather-jxd.firebaseapp.com\",\r\n\tdatabaseURL: \"https://wearweather-jxd.firebaseio.com\",\r\n\tprojectId: \"wearweather-jxd\",\r\n\tstorageBucket: \"wearweather-jxd.appspot.com\",\r\n\tmessagingSenderId: \"143283944775\",\r\n\tappId: \"1:143283944775:web:a84402617d08b0f05ee062\",\r\n\tmeasurementId: \"G-PBMCYQXTEG\"\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\nfirebase.firestore();\r\nfirebase.database();\r\n\r\nexport default firebase;\r\n\r\n\r\n\r\nexport const firebaseUI = new firebaseui.auth.AuthUI(firebase.auth());\r\n\r\nexport const firebaseUIConfig = {\r\n\tcallbacks: {\r\n\t\tsignInSuccessWithAuthResult: function(authResult, redirectUrl) {\r\n\t\t\t// User successfully signed in.\r\n\t\t\t// Return type determines whether we continue the redirect automatically\r\n\t\t\t// or whether we leave that to developer to handle.\r\n\t\t\treturn true;\r\n\t\t},\r\n\t\tuiShown: function() {\r\n\t\t\t// The widget is rendered.\r\n\t\t\t// Hide the loader.\r\n\t\t\t//document.getElementById('loader').style.display = 'none';\r\n\t\t}\r\n\t},\r\n\t// Will use popup for IDP Providers sign-in flow instead of the default, redirect.\r\n\tsignInFlow: 'popup',\r\n\tsignInSuccessUrl: 'localhost:3000',\r\n\tsignInOptions: [\r\n\t\t// Leave the lines as is for the providers you want to offer your users.\r\n\t\tfirebase.auth.GoogleAuthProvider.PROVIDER_ID,\r\n\t\tfirebase.auth.EmailAuthProvider.PROVIDER_ID\r\n\t],\r\n\t// Terms of service url.\r\n\ttosUrl: '<your-tos-url>',\r\n\t// Privacy policy url.\r\n\tprivacyPolicyUrl: '<your-privacy-policy-url>'\r\n};","import React, { useState, useRef, lazy } from 'react';\r\n/* import MapMarkerIcon from 'mdi-react/MapMarkerIcon'; */\r\nimport RefreshIcon from 'mdi-react/RefreshIcon';\r\nimport AccountPlusIcon from 'mdi-react/AccountPlusIcon';\r\nimport CogIcon from 'mdi-react/CogIcon';\r\nimport firebase from '../status/Firebase';\r\n\r\n\r\nconst CloseIcon = lazy(()=>import('mdi-react/WindowCloseIcon'));\r\n\r\nconst SettingsBar = (props) => {\r\n\r\n\tconsole.log('SettingsBar props: ', props);\r\n\r\n\tlet unitObj = [\r\n\t\t{ unit: \"f\", active: false },\r\n\t\t{ unit: \"c\", active: false }\r\n\t];\r\n\tunitObj.forEach(uo => {\r\n\t\tif (uo.unit === props.userSettings.scale) {\r\n\t\t\tuo.active = true\r\n\t\t};\r\n\t});\r\n\tlet pronounObj = [\r\n\t\t{ pronoun: \"he\", active: false },\r\n\t\t{ pronoun: \"she\", active: false },\r\n\t\t{ pronoun: \"they\", active: false }\r\n\t];\r\n\tpronounObj.forEach(po => {\r\n\t\tif (po.pronoun === props.userSettings.pronoun) {\r\n\t\t\tpo.active = true;\r\n\t\t};\r\n\t});\r\n\tconst [menuOpen, setMenu] = useState(false);\r\n\tconst themeRef = useRef();\r\n\tconst unitRef = useRef();\r\n\tconst pronounRef = useRef();\r\n\r\n\tconst _overlayCheck = function(bool) {\r\n\t\tif (menuOpen) {\r\n\t\t\tdocument.querySelector('html').classList.remove('locked');\r\n\t\t} else {\r\n\t\t\tdocument.querySelector('html').classList.add('locked');\r\n\t\t};\r\n\t\tsetMenu(bool);\r\n\t};\r\n\r\n\tconst _themeClick = function(thm) {\r\n\t\tprops.sendNewTheme(thm);\r\n\t\tthemeRef.current.checked = false;\r\n\t};\r\n\r\n\tconst _unitClick = function(unt) {\r\n\t\tprops.sendNewSetting('scale', unt);\r\n\t\tunitRef.current.checked = false;\r\n\t};\r\n\r\n\tconst _pronounClick = function(pro) {\r\n\t\tprops.sendNewSetting('pronoun', pro);\r\n\t\tpronounRef.current.checked = false;\r\n\t};\r\n\r\n\tconst _refreshClick = function() {\r\n\t\tdocument.getElementById('Settings-refresh-icon').classList.add('spin');\r\n\t\tsetTimeout(function () {\r\n\t\t\tdocument.getElementById('Settings-refresh-icon').classList.remove('spin');\r\n\t\t}, 600);\r\n\t\tprops.refreshWeather();\r\n\t};\r\n\r\n\tconst _signout = function() {\r\n\t\tsetTimeout(function () {\r\n\t\t\twindow.location.reload(false);\r\n\t\t}, 3000);\r\n\t\tfirebase.auth().signOut();\r\n\t};\r\n\r\n\treturn (\r\n\t\t<article id='SettingsBar' className='positionrel marginauto'>\r\n\t\t\t<section id='SettingsButtons-section' className='displayflex'>\r\n\t\t\t\t{/* <div id='Settings-location-icon' className='Settings-icon displayflex positionrel MDI-container'>\r\n\t\t\t\t\t<MapMarkerIcon />\r\n\t\t\t\t</div> */}\r\n\t\t\t\t<div id='Settings-refresh-icon' className='Settings-icon displayflex positionrel MDI-container' onClick={_refreshClick}>\r\n\t\t\t\t\t<RefreshIcon />\r\n\t\t\t\t</div>\r\n\t\t\t\t{ (props.user === null) ? <div id='Settings-AccountPlus-icon' className='Settings-icon displayflex positionrel MDI-container' onClick={props.accessUserLoginClick}>\r\n\t\t\t\t\t<AccountPlusIcon />\r\n\t\t\t\t</div> : null }\r\n\t\t\t\t<div id='Settings-cog-icon' className='Settings-icon displayflex positionrel MDI-container' onClick={()=>_overlayCheck(!menuOpen)}>\r\n\t\t\t\t\t<CogIcon />\r\n\t\t\t\t</div>\r\n\t\t\t</section>\r\n\t\t\t\r\n\t\t\t<section id='Overflow-section' className={'positionabs' + ((menuOpen) ? ' open' :'')}>\r\n\t\t\t\t<div id='Overflow-screen' className='positionabs' onClick={()=>_overlayCheck(false)}></div>\r\n\t\t\t\t<article id='Overflow-popup' className='displayflex flexcol marginauto popup popup-shadow'>\r\n\t\t\t\t\t<h3 className='Overflow-row header-row displayflex positionrel'>\r\n\t\t\t\t\t\t<div className=\"Overflow-row-title displayflex\">\r\n\t\t\t\t\t\t\t{ (props.user !== null) ? <div className='biggerfont biggerfont-height bold4 marginauto-height'>{props.user.displayName}'s Settings</div>\r\n\t\t\t\t\t\t\t\t: <div className='biggerfont biggerfont-height bold4 marginauto-height'>Settings</div> }\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='Overflow-row-icon displayflex' onClick={()=>_overlayCheck(false)}>\r\n\t\t\t\t\t\t\t<React.Suspense fallback={<></>}>\r\n\t\t\t\t\t\t\t\t{<CloseIcon />}\r\n\t\t\t\t\t\t\t</React.Suspense>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</h3>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className='Overflow-row displayflex positionrel'>\r\n\t\t\t\t\t\t<div className='Overflow-row-title displayflex'>\r\n\t\t\t\t\t\t\t<span className='medfont medfont-height marginauto-height'>Theme</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='Overflow-row-options displayflex'>\r\n\t\t\t\t\t\t\t<div className='dropdown medfont'>\r\n\t\t\t\t\t\t\t\t<input id='DropdownThemes' className='dropdown-input' type='checkbox' ref={themeRef}></input>\r\n\t\t\t\t\t\t\t\t{ Object.keys(props.themeObj).filter(thm => props.themeObj[thm]['active']===true).map((thm, i) => { \r\n\t\t\t\t\t\t\t\t\treturn (<label htmlFor='DropdownThemes' className='dropdown-label' key={i}>\r\n\t\t\t\t\t\t\t\t\t\t<div className='dropdown-icon'>\r\n\t\t\t\t\t\t\t\t\t\t\t<span className='theme-icon'>{props.themeObj[thm]['icon']}</span>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className='dropdown-title'>\r\n\t\t\t\t\t\t\t\t\t\t\t<span className='medfont medfont-height marginauto-height'>{props.themeObj[thm]['title']}</span>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</label>) \r\n\t\t\t\t\t\t\t\t}) }\r\n\t\t\t\t\t\t\t\t<ul className='dropdown-ul'>\r\n\t\t\t\t\t\t\t\t\t{ Object.keys(props.themeObj).filter(thm => props.themeObj[thm]['active']===false).map((thm, i) => {\r\n\t\t\t\t\t\t\t\t\t\treturn <li className='dropdown-li displayflex' onClick={()=>_themeClick(props.themeObj[thm]['key'])} key={i}>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className='dropdown-icon'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span className='theme-icon'>{props.themeObj[thm]['icon']}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className='dropdown-title'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span className='medfont medfont-height marginauto-height'>{props.themeObj[thm]['title']}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t}) }\r\n\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className='Overflow-row displayflex positionrel'>\r\n\t\t\t\t\t\t<div className='Overflow-row-title displayflex'>\r\n\t\t\t\t\t\t\t<span className='medfont medfont-height marginauto-height'>Unit</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='Overflow-row-options displayflex'>\r\n\t\t\t\t\t\t\t<div className='dropdown medfont'>\r\n\t\t\t\t\t\t\t\t<input id='DropdownUnits' className='dropdown-input' type='checkbox' ref={unitRef}></input>\r\n\t\t\t\t\t\t\t\t{ unitObj.filter(uo => uo.active===true).map((uo, i) => {\r\n\t\t\t\t\t\t\t\t\treturn (<label htmlFor='DropdownUnits' className='dropdown-label' key={i}>\r\n\t\t\t\t\t\t\t\t\t\t<div className='dropdown-title'>\r\n\t\t\t\t\t\t\t\t\t\t\t<span className='medfont medfont-height marginauto-height'>{'° ' + uo.unit}</span>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</label>)\r\n\t\t\t\t\t\t\t\t}) }\r\n\t\t\t\t\t\t\t\t<ul className='dropdown-ul'>\r\n\t\t\t\t\t\t\t\t\t{ unitObj.filter(uo => uo.active===false).map((uo, i) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (<li className='dropdown-li displayflex' onClick={()=>_unitClick(uo.unit)} key={i}>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className='dropdown-title'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span className='medfont medfont-height marginauto-height'>{'° ' + uo.unit}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</li>)\r\n\t\t\t\t\t\t\t\t\t}) }\r\n\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{ (props.user !== null) ?\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t<div className='Overflow-row displayflex positionrel'>\r\n\t\t\t\t\t\t<div className='Overflow-row-title displayflex'>\r\n\t\t\t\t\t\t\t<span className='medfont medfont-height marginauto-height'>Pronoun</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='Overflow-row-options displayflex'>\r\n\t\t\t\t\t\t\t<div className='dropdown medfont'>\r\n\t\t\t\t\t\t\t\t<input id='DropdownPronouns' className='dropdown-input' type='checkbox' ref={pronounRef}></input>\r\n\t\t\t\t\t\t\t\t{ pronounObj.filter(po => po.active===true).map((po, i) => {\r\n\t\t\t\t\t\t\t\t\treturn (<label htmlFor='DropdownPronouns' className='dropdown-label' key={i}>\r\n\t\t\t\t\t\t\t\t\t\t<div className='dropdown-title'>\r\n\t\t\t\t\t\t\t\t\t\t\t<span className='medfont medfont-height marginauto-height'>{po.pronoun}</span>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</label>)\r\n\t\t\t\t\t\t\t\t}) }\r\n\t\t\t\t\t\t\t\t<ul className='dropdown-ul'>\r\n\t\t\t\t\t\t\t\t\t{ pronounObj.filter(po => po.active===false).map((po, i) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (<li className='dropdown-li displayflex' onClick={()=>_pronounClick(po.pronoun)} key={i}>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className='dropdown-title'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span className='medfont medfont-height marginauto-height'>{po.pronoun}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</li>)\r\n\t\t\t\t\t\t\t\t\t}) }\r\n\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className='Overflow-bottom-row displayflex positionrel'>\r\n\t\t\t\t\t\t<button className='solid-button red-button smallfont' onClick={_signout}>Sign out</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t</>\r\n\t\t\t\t\t: null }\r\n\t\t\t\t\t\r\n\t\t\t\t</article>\r\n\t\t\t</section>\r\n\t\t</article>\r\n\t);\r\n\r\n}\r\n\r\nexport default SettingsBar;","import React, { useEffect } from 'react';\r\nimport firebase, { firebaseUI, firebaseUIConfig } from '../status/Firebase';\r\n\r\n\r\nconst UserLogin = (props) => {\r\n\t\r\n\tconst firebaseUIRef = React.createRef();\r\n\r\n\tconst firebaseUIStarter = (elem) => {\r\n\t\tconsole.log('firebaseUIStarter ', elem);\r\n\t\tfirebaseUI.start(elem, firebaseUIConfig);\r\n\t\tfirebase.auth().onAuthStateChanged(function(user) {\r\n\t\t\tif (user) {\r\n\t\t\t\tprops.userUpdate(user);\r\n\t\t\t} else {\r\n\t\t\t\tconsole.log('no user');\r\n\t\t\t};\r\n\t\t});\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tfirebaseUIStarter(firebaseUIRef.current);\r\n\t}, \r\n\t// eslint-disable-next-line\r\n\t[]);\r\n\r\n\treturn (\r\n\t\t<section id='UserLogin-section' className={'positionabs displayflex'}>\r\n\t\t\t<article id='UserLogin-card' className='displayflex flexcol marginauto'>\r\n\t\t\t\t<section id='FirebaseUI-container' className='displayflex' ref={firebaseUIRef}></section>\r\n\t\t\t\t<div id='UserLogin-close-container' className='displayflex'>\r\n\t\t\t\t\t<button id='UserLogin-close' className='outline-button red-button' onClick={props.closeClick}>Cancel</button>\r\n\t\t\t\t</div>\r\n\t\t\t</article>\r\n\t\t</section>\r\n\t);\r\n}\r\n\r\nexport default UserLogin;","import React, { useState } from 'react';\r\nimport SettingsBar from '../components/SettingsBar';\r\nimport UserLogin from '../components/UserLogin';\r\n\r\n\r\nconst Navbar = (props) => {\r\n\t\r\n\tconst [userLoginOpen, setUserLoginOpen] = useState(false);\r\n\r\n\tconst _accessUserLogin = () => {\r\n\t\tdocument.querySelector('html').classList.add('locked');\r\n\t\tsetUserLoginOpen(true);\r\n\t};\r\n\r\n\tconst _closeUserLogin = () => {\r\n\t\tdocument.querySelector('html').classList.remove('locked');\r\n\t\tsetUserLoginOpen(false);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<nav id='App-Navbar' className={'bigfont ' + props.color}>\r\n\t\t\t<SettingsBar user={props.user} themeObj={props.themeObj} sendNewTheme={(newTheme)=>props.sendNewTheme(newTheme)} accessUserLoginClick={()=>_accessUserLogin()} userSettings={props.userSettings} sendNewSetting={(ky, vl)=>props.sendNewSetting(ky, vl)} refreshWeather={props.refreshWeather} />\r\n\t\t\t{ userLoginOpen && <UserLogin user={props.user} userUpdate={(newUser)=>props.userUpdate(newUser)} closeClick={_closeUserLogin} /> }\r\n\t\t</nav>\r\n\t);\r\n\r\n}\r\n\r\nexport default Navbar;","import React from 'react';\r\nimport { weekDays, getTemperature } from '../assets/common';\r\n\r\nconst CurrentWeatherCard = ({allWeather, scale, currCity, weatherCodeObj}) => {\r\n\tconst date = new Date(allWeather.currentWeather.dt * 1000);\r\n\t\r\n\treturn <section id='CurrentWeatherCard-section' className={'displayflex flexcol marginauto ' + allWeather.currentWeather.weather[currCity].main}>\r\n\t\t<header className='card-header displayflex flexcol'>\r\n\t\t\t<span className='hugefont bold6'>{weekDays[date.getDay()]}</span>\r\n\t\t\t<span className='biggerfont bold4'>{allWeather.name}</span>\r\n\t\t\t<span id='CurrentWeatherCard-description' className='biggerfont bold3'>{allWeather.currentWeather.weather[0].description}</span>\r\n\t\t</header>\r\n\t\t<article id='CurrentWeatherCard-container' className='displayflex'>\r\n\t\t\t<article id='CurrentWeather-circle' className={'card fluent-card card-shadow positionrel ' + weatherCodeObj.color}>\r\n\t\t\t\t<span id='CurrentWeather-max' className='temperature hugefont hugefont-height positionabs'>{getTemperature(allWeather.currentWeather.main.temp_max, scale)}</span>\r\n\t\t\t\t<div className='temperature-container displayflex bold3'>\r\n\t\t\t\t\t<span className='temperature positionrel herofont marginauto'>{getTemperature(allWeather.currentWeather.main.temp, scale)}</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<span id='CurrentWeather-min' className='temperature hugefont hugefont-height positionabs'>{getTemperature(allWeather.currentWeather.main.temp_min, scale)}</span>\r\n\t\t\t</article>\r\n\t\t</article>\r\n\t\t{/* <article id='CurrentWeatherCard-container' className='displayflex'>\r\n\t\t\t<article id='CurrentWeatherCard' className='card displayflex flexcol marginauto positionrel'>\r\n\t\t\t\t<header id='CurrentWeatherCard-temperature' className='temperature positionrel herofont'>{getTemperature(allWeather.currentWeather.main.temp, scale)}</header>\r\n\t\t\t\t<section id='CurrentWeatherCard-details' className='displayflex flexcol'>\r\n\t\t\t\t\t<div id='CurrentWeatherCard-description' className='medfont medfont-height'>{allWeather.currentWeather.weather[0].description}</div>\r\n\t\t\t\t\t<div id='CurrentWeatherCard-minmax' className='displayflex'>\r\n\t\t\t\t\t\t<span className='temperature bigfont bigfont-height'>{getTemperature(allWeather.currentWeather.main.temp_max, scale)}</span>\r\n\t\t\t\t\t\t<span className='temperature bigfont bigfont-height'>{getTemperature(allWeather.currentWeather.main.temp_min, scale)}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</section>\r\n\t\t\t\t<div className='weather-icon-container positionabs'>\r\n\t\t\t\t\t<React.Suspense fallback={<></>}>\r\n\t\t\t\t\t\t{(weatherCodeObj.timeIcon) ? weatherCodeObj.timeIcon : weatherCodeObj.icon}\r\n\t\t\t\t\t</React.Suspense>\r\n\t\t\t\t</div>\r\n\t\t\t</article>\r\n\t\t</article> */}\r\n\t</section>\r\n};\r\n\r\nexport default CurrentWeatherCard;","import React, { useEffect, useRef } from 'react';\r\nimport { weatherDecoder } from '../status/WeatherHandler';\r\nimport { getTemperature, getSimpleTime } from '../assets/common';\r\nimport * as d3 from 'd3';\r\n\r\n\r\nconst HourlyWeatherCard = (props) => {\r\n\tconst temperatureD3 = useRef(null);\r\n\t/* const humidityD3 = useRef(null); */\r\n\r\n\tconst temperaturesArr = props.data.list.slice(0, 10).map(hw => {\r\n\t\treturn { \r\n\t\t\t'timeSimple': getSimpleTime((hw.dt*1000), props.scale),\r\n\t\t\t'timeObj': new Date(hw.dt*1000),\r\n\t\t\t'temperature': getTemperature(hw.main.temp, props.scale),\r\n\t\t\t'icon': weatherDecoder(hw.weather[0].id).icon\r\n\t\t};\r\n\t});\r\n\t/* console.log(temperaturesArr); */\r\n\t/* const humidityArr = hourlyWeather.map(hw => hw.main.humidity); */\r\n\r\n\tconst _buildD3 = function(where, myData) {\r\n\t\t/* console.log(where, myData); */\r\n\t\tconst whereWidth = where.offsetWidth;\r\n\t\tconst whereHeight = where.offsetHeight;\r\n\t\tconst xScale = d3.scaleTime().range([2, whereWidth-2]).domain(d3.extent(myData, d=>d.timeObj));\r\n\t\tconst yScale = d3.scaleLinear().rangeRound([whereHeight-40, 50]).domain(d3.extent(myData, d=>d.temperature));\r\n\t\tconst svg = d3.select(where).append('svg').attr('width', whereWidth-100).attr('height', whereHeight-40);\r\n\t\t/* const xaxis = d3.axisBottom(xScale);\r\n\t\tconst yaxis = d3.axisLeft(yScale); */\r\n\t\tconst line = d3.line()\r\n\t\t\t.x(d=>xScale(d.timeObj))\r\n\t\t\t.y(d=>yScale(d.temperature));\r\n\t\t/* svg.append('g').attr('class', 'axis xaxis').attr(\"transform\", `translate(0, ${whereHeight})`).call(xaxis);\r\n\t\tsvg.append('g').attr('class', 'axis yaxis').attr(\"transform\", \"translate(20, 10)\").call(yaxis); */\r\n\t\tsvg.append('path').datum(myData).attr(\"fill\", \"none\").attr(\"stroke\", \"orange\").attr(\"stroke-width\", 1.5).attr('d', line);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\t_buildD3(temperatureD3.current, temperaturesArr);\r\n\t}, [props.weather, temperaturesArr]);\r\n\r\n\t\r\n\treturn <article id='HourlyWeather-card' className='card largecard fluent-card card-shadow displayflex'>\r\n\t\t<section id='HourlyWeather-scroll-section' className='displayflex flexcol'>\r\n\t\t\t<article id='HourlyWeather-cards-container' className='displayflex positionrel'>\r\n\t\t\t\t{ temperaturesArr.map((hw, i) => {\r\n\t\t\t\t\treturn <article className='HourlyWeather-card displayflex flexcol' key={i}>\r\n\t\t\t\t\t\t<span className='HourlyWeather-time medfont medfont-height text-center'>{hw.timeSimple}</span>\r\n\t\t\t\t\t\t<span className='HourlyWeather-icon'>\r\n\t\t\t\t\t\t\t<React.Suspense fallback={<></>}>\r\n\t\t\t\t\t\t\t\t<span className='biggerfont biggerfont-height weather-icon-container'>{hw.icon}</span>\r\n\t\t\t\t\t\t\t</React.Suspense>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<span className='HourlyWeather-temperature medfont medfont-height text-center positionrel'>{hw.temperature}</span>\r\n\t\t\t\t\t</article>\r\n\t\t\t\t})}\r\n\t\t\t\t<section id='HourlyWeather-graphs-container' className='displayflex flexcol positionabs'>\r\n\t\t\t\t\t<article id='HourlyWeather-temperature-graph' className='d3-graph' ref={temperatureD3}></article>\r\n\t\t\t\t</section>\r\n\t\t\t</article>\r\n\t\t</section>\r\n\t</article>\r\n};\r\n\r\nexport default HourlyWeatherCard;","import React from 'react';\r\nimport { weatherDecoder } from '../status/WeatherHandler';\r\nimport * as Common from '../assets/common';\r\n\r\n\r\nconst ExtendedWeatherCard = (props) => {\r\n\tconst dte = new Date(props.data.dt*1000);\r\n\treturn <article className='ExtendedWeather-row displayflex'>\r\n\t\t<div className='ExtendedWeather-day displayflex'>\r\n\t\t\t<span className='medfont medfont-height marginauto-height bold5'>{Common.weekDays[dte.getDay()]}</span>\r\n\t\t</div>\r\n\t\t<div className='ExtendedWeather-icon'>\r\n\t\t\t<React.Suspense fallback={<></>}>\r\n\t\t\t\t<span className='biggerfont biggerfont-height weather-icon-container'>{weatherDecoder(props.data.weather[props.currentCity].id).icon}</span>\r\n\t\t\t</React.Suspense>\r\n\t\t</div>\r\n\t\t<div className='ExtendedWeather-description'>\r\n\t\t\t<span className='medfont medfont-height marginauto-height'>{props.data.weather[0].main}</span>\r\n\t\t</div>\r\n\t\t<div className='ExtendedWeather-temp displayflex'>\r\n\t\t\t<span className='medfont medfont-height bold5'>{Common.getTemperature(props.data.temp.max, props.scale)}°</span>\r\n\t\t\t<span className='medfont medfont-height'>{Common.getTemperature(props.data.temp.min, props.scale)}°</span>\r\n\t\t</div>\r\n\t\t\r\n\t</article>\r\n};\r\n\r\nexport default ExtendedWeatherCard;","import React from 'react';\r\nimport CurrentWeatherCard from '../components/CurrentWeatherCard';\r\nimport HourlyWeatherCard from '../components/HourlyWeatherCard';\r\nimport ExtendedWeatherCard from '../components/ExtendedWeatherCard'\r\n\r\n\r\n\r\nconst WeatherDaily = (props) => {\r\n\t/* console.log('WeatherDaily props: ', props); */\r\n\treturn (\r\n\t\t<section id='WeatherDaily' className='main-tab flexcol'>\r\n\t\t\t{ (props.weather && (props.weather.length > 0)) ? (\r\n\t\t\t\t<>\r\n\t\t\t\t<section id='CurrentWeather-section' className='positionrel'>\r\n\t\t\t\t\t{ props.weather.map((allW, i) => {\r\n\t\t\t\t\t\treturn <CurrentWeatherCard key={i} allWeather={allW} scale={props.scale} currCity={props.currentCity} weatherCodeObj={props.weatherCodeObj} />\r\n\t\t\t\t\t}) }\r\n\t\t\t\t</section>\r\n\r\n\t\t\t\t<section id='HourlyWeather-section' className='displayflex flexcol'>\r\n\t\t\t\t\t<HourlyWeatherCard data={props.weather[props.currentCity]['hourlyWeather']} scale={props.scale} currentCity={props.currentCity} />\t\t\t\r\n\t\t\t\t</section>\r\n\r\n\t\t\t\t<section id='ExtendedWeather-section' className='displayflex flexcol'>\r\n\t\t\t\t\t<article id='ExtendedWeather-card' className='card largecard fluent-card card-shadow displayflex flexcol'>\r\n\t\t\t\t\t\t{props.weather[props.currentCity].extendedWeather.list.map((wh, i) => {\r\n\t\t\t\t\t\t\treturn <ExtendedWeatherCard data={wh} scale={props.scale} currentCity={props.currentCity} key={i} />\r\n\t\t\t\t\t\t}) }\r\n\t\t\t\t\t</article>\r\n\t\t\t\t</section>\r\n\t\t\t\t</>\r\n\t\t\t) : null }\r\n\t\t</section>\r\n\t);\r\n\r\n};\r\n\r\n\r\nexport default WeatherDaily;","import React, { lazy } from 'react';\r\n\r\nconst DressIcon = lazy(() => import('../assets/icons/jsx/Dress'));\r\nconst DressShirtIcon = lazy(() => import('../assets/icons/jsx/DressShirt'));\r\nconst JeansIcon = lazy(() => import('../assets/icons/jsx/Jeans'));\r\nconst LongSocksIcon = lazy(() => import('../assets/icons/jsx/LongSocks'));\r\nconst ShortsIcon = lazy(() => import('../assets/icons/jsx/Shorts'));\r\nconst ShortShortsIcon = lazy(() => import('../assets/icons/jsx/ShortShorts'));\r\nconst SkirtIcon = lazy(() => import('../assets/icons/jsx/Skirt'));\r\nconst SunglassesIcon = lazy(() => import('../assets/icons/jsx/Sunglasses'));\r\nconst SweaterIcon = lazy(() => import('../assets/icons/jsx/Sweater'));\r\nconst TightsIcon = lazy(() => import('../assets/icons/jsx/Tights'));\r\nconst TShirtIcon = lazy(() => import('../assets/icons/jsx/TShirt'));\r\n\r\n\r\nexport function getClothingSvg(title, primaryColor, secondaryColor, tertiaryColor) {\r\n\tif (title === 'dress') {\r\n\t\treturn <DressIcon primaryColor={primaryColor} secondaryColor={secondaryColor} />;\r\n\t} else if (title === 'dressShirt') {\r\n\t\treturn <DressShirtIcon primaryColor={primaryColor} secondaryColor={secondaryColor} />;\r\n\t} else if (title === 'jeans') {\r\n\t\treturn <JeansIcon primaryColor={primaryColor} />;\r\n\t} else if (title === 'longSocks') {\r\n\t\treturn <LongSocksIcon primaryColor={primaryColor} secondaryColor={secondaryColor} tertiaryColor={tertiaryColor} />;\r\n\t} else if (title === 'shorts') {\r\n\t\treturn <ShortsIcon primaryColor={primaryColor} />;\r\n\t} else if (title === 'shortShorts') {\r\n\t\treturn <ShortShortsIcon primaryColor={primaryColor} secondaryColor={secondaryColor} />;\r\n\t} else if (title === 'skirt') {\r\n\t\treturn <SkirtIcon primaryColor={primaryColor} />;\r\n\t} else if (title === 'sunglasses') {\r\n\t\treturn <SunglassesIcon primaryColor={primaryColor} secondaryColor={secondaryColor} />;\r\n\t} else if (title === 'sweater') {\r\n\t\treturn <SweaterIcon primaryColor={primaryColor} />;\r\n\t} else if (title === 'tights') {\r\n\t\treturn <TightsIcon primaryColor={primaryColor} />;\r\n\t} else if (title === 'tShirt') {\r\n\t\treturn <TShirtIcon primaryColor={primaryColor} />;\r\n\t};\r\n};","import React, { useEffect, useReducer, useRef } from 'react';\r\nimport { getClothingSvg } from '../status/ClothingHandler';\r\nimport { debounce } from '../assets/common';\r\n\r\n\r\nconst ClothingItem = (props) => {\r\n\t\r\n\t/* console.log(props); */\r\n\tconst redSlider = useRef();\r\n\tconst greenSlider = useRef();\r\n\tconst blueSlider = useRef();\r\n\r\n\tconst getRGB = function(color) {\r\n\t\treturn color.replace(/[^\\d,]/g, '').split(',');\r\n\t};\r\n\r\n\tconst clothingChangeSend = function(action, editedClothing) {\r\n\t\tconst newCloth = {...props.data};\r\n\t\tswitch(action) {\r\n\t\t\tcase 'addrem':\r\n\t\t\t\tnewCloth.selected = !newCloth.selected;\r\n\t\t\t\tprops.editCloth(newCloth, 'addrem');\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'colorChange':\r\n\t\t\t\tconsole.log('colorChange ', editedClothing);\r\n\t\t\t\tprops.editCloth(editedClothing, 'colorChange');\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tconsole.log('No clothingChangeSend for ', action);\r\n\t\t}\r\n\t};\r\n\r\n\tconst colorChange = debounce(function(newVal, rgbLabel, rgbIndex) {\r\n\t\tconst editedClothing = {...props.data};\r\n\t\tconst activeColorLabel = (clothingState.activeColorSwap === 0) ? 'primaryColor' : (clothingState.activeColorSwap === 1) ? 'secondaryColor' : 'tertiaryColor';\r\n\t\tconst activeRgbNew = getRGB(editedClothing[activeColorLabel]);\r\n\t\tactiveRgbNew[rgbIndex] = newVal;\r\n\t\tconst newRgb = 'rgb(' + activeRgbNew.toString() + ')';\r\n\t\teditedClothing[activeColorLabel] = newRgb;\r\n\t\tconst newSvgIcon = getClothingSvg(editedClothing.title, editedClothing.primaryColor, editedClothing.secondaryColor, editedClothing.tertiaryColor);\r\n\t\tclothingChangeSend('colorChange', editedClothing);\r\n\t\tdispatch({type:'colorChange', rgbLabel, newVal, activeColorLabel, newSvgIcon});\r\n\t}, 250);\r\n\r\n\tconst getNewClothingState = function(colorLabel, title, primaryColor, secondaryColor, tertiaryColor, isActive, colorSwapIndex) {\r\n\t\tconst newRgb = getRGB(colorLabel);\r\n\t\tconst newSvgIcon = getClothingSvg(title, primaryColor, secondaryColor, tertiaryColor);\r\n\t\treturn {\r\n\t\t\tcardActive: isActive,\r\n\t\t\tactiveColorSwap: colorSwapIndex,\r\n\t\t\tred: newRgb[0],\r\n\t\t\tgreen: newRgb[1],\r\n\t\t\tblue: newRgb[2],\r\n\t\t\tsvgIcon: newSvgIcon\r\n\t\t};\r\n\t};\r\n\r\n\tconst initClothingState = getNewClothingState(props.data.primaryColor, props.data.title, props.data.primaryColor, props.data.secondaryColor, props.data.tertiaryColor, false, 0);\r\n\r\n\tconst clothingReducer = function(state, action) {\r\n\t\tconst newState = {...state};\r\n\t\tswitch(action.type) {\r\n\t\t\tcase 'colorPickerToggle':\r\n\t\t\t\tnewState.cardActive = !newState.cardActive;\r\n\t\t\t\treturn newState;\r\n\t\t\tcase 'colorPickerSwap':\r\n\t\t\t\tif (action.index !== newState.activeColorSwap) {\r\n\t\t\t\t\tnewState.activeColorSwap = action.index;\r\n\t\t\t\t\tconst activeColor = (action.index === 0) ? props.data.primaryColor : (action.index === 1) ? props.data.secondaryColor : props.data.tertiaryColor;\r\n\t\t\t\t\tconst newRgb = getRGB(activeColor);\r\n\t\t\t\t\tnewState.red = newRgb[0];\r\n\t\t\t\t\tnewState.green = newRgb[1];\r\n\t\t\t\t\tnewState.blue = newRgb[2];\r\n\t\t\t\t\tredSlider.current.value = newRgb[0];\r\n\t\t\t\t\tgreenSlider.current.value = newRgb[1];\r\n\t\t\t\t\tblueSlider.current.value = newRgb[2];\r\n\t\t\t\t};\r\n\t\t\t\treturn newState;\r\n\t\t\tcase 'colorChange':\r\n\t\t\t\tnewState[action.rgbLabel] = action.newVal;\r\n\t\t\t\tnewState['svgIcon'] = action.newSvgIcon;\r\n\t\t\t\tconst activeColor = props.data[action.activeColorLabel];\r\n\t\t\t\tconst newRgb = getRGB(activeColor);\r\n\t\t\t\tnewState.red = newRgb[0];\r\n\t\t\t\tnewState.green = newRgb[1];\r\n\t\t\t\tnewState.blue = newRgb[2];\r\n\t\t\t\tredSlider.current.value = newRgb[0];\r\n\t\t\t\tgreenSlider.current.value = newRgb[1];\r\n\t\t\t\tblueSlider.current.value = newRgb[2];\r\n\t\t\t\treturn newState;\r\n\t\t\tcase 'newStateFromProps':\r\n\t\t\t\treturn action.newState;\r\n\t\t\tdefault:\r\n\t\t\t\treturn state;\r\n\t\t}\r\n\t};\r\n\tconst [clothingState, dispatch] = useReducer(clothingReducer, initClothingState);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst activeColor = (clothingState.activeColorSwap === 0) ? props.data.primaryColor : (clothingState.activeColorSwap === 1) ? props.data.secondaryColor : props.data.tertiaryColor;\r\n\t\tconst newClothingState = getNewClothingState(activeColor, props.data.title, props.data.primaryColor, props.data.secondaryColor, props.data.tertiaryColor, clothingState.cardActive, clothingState.activeColorSwap);\r\n\t\tdispatch({type: 'newStateFromProps', newState: newClothingState});\r\n\t}, \r\n\t// eslint-disable-next-line\r\n\t[props.data, clothingState.activeColorSwap, clothingState.cardActive]);\r\n\r\n\t\r\n\treturn (\r\n\t\t<article className={'card fluent-card card-shadow displayflex nonselect positionrel ' + (clothingState.cardActive ? 'active' : '')}>\r\n\t\t\t<section className='card-contents displayflex flexcol positionabs'>\r\n\t\t\t\t<span className='card-icon-container displayflex'>\r\n\t\t\t\t\t<React.Suspense fallback={<></>}>\r\n\t\t\t\t\t\t{clothingState.svgIcon}\r\n\t\t\t\t\t</React.Suspense>\r\n\t\t\t\t</span>\r\n\t\t\t\t<header className='card-name-container medfont medfont-height'>\r\n\t\t\t\t\t<p className='card-name marginauto-height'>{props.data.name}</p>\r\n\t\t\t\t</header>\r\n\t\t\t\t<div className='card-buttons-container displayflex positionrel'>\r\n\t\t\t\t\t<button className={'outline-button ' + (props.addrem==='Add' ? 'green-button' : 'red-button')} onClick={()=>clothingChangeSend('addrem', null)}>{props.addrem}</button>\r\n\t\t\t\t\t<button className='card-color-picker-button outline-button' onClick={()=>dispatch({type:'colorPickerToggle'})}>Color</button>\r\n\t\t\t\t</div>\r\n\t\t\t</section>\r\n\t\t\t<section className='card-color-picker-container displayflex flexcol positionabs'>\r\n\t\t\t\t<span className='card-color-picker-close positionabs pointer nonselect' onClick={()=>dispatch({type:'colorPickerToggle'})}>close</span>\r\n\t\t\t\t<article className='card-color-picker-swapper displayflex'>\r\n\t\t\t\t\t{<span className={'card-color-picker-option primary marginauto' + (clothingState.activeColorSwap === 0 ? ' active' : '')} onClick={()=>dispatch({type:'colorPickerSwap', index:0})}>\r\n\t\t\t\t\t\t<span style={{backgroundColor: props.data.primaryColor}}></span>\r\n\t\t\t\t\t</span>}\r\n\t\t\t\t\t{(null !== props.data.secondaryColor) && <span className={'card-color-picker-option secondary marginauto' + (clothingState.activeColorSwap === 1 ? ' active' : '')} onClick={()=>dispatch({type:'colorPickerSwap', index:1})}>\r\n\t\t\t\t\t\t<span style={{backgroundColor: props.data.secondaryColor}}></span>\r\n\t\t\t\t\t</span>}\r\n\t\t\t\t\t{(null !== props.data.tertiaryColor) && <span className={'card-color-picker-option tertiary marginauto' + (clothingState.activeColorSwap === 2 ? ' active' : '')} onClick={()=>dispatch({type:'colorPickerSwap', index:2})}>\r\n\t\t\t\t\t\t<span style={{backgroundColor: props.data.tertiaryColor}}></span>\r\n\t\t\t\t\t</span>}\r\n\t\t\t\t</article>\r\n\t\t\t\t<article className='card-color-picker-sliders-container displayflex flexcol'>\r\n\t\t\t\t\t<div className='card-color-picker-slider displayflex'>\r\n\t\t\t\t\t\t<span className='smallfont smallfont-height marginauto-height'>{clothingState.red}</span>\r\n\t\t\t\t\t\t<input className='slider marginauto-height' type='range' min='0' max='255' step='1' defaultValue={clothingState.red} onChange={(e)=>colorChange(e.target.value, 'red', 0)} ref={redSlider}></input>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='card-color-picker-slider displayflex'>\r\n\t\t\t\t\t\t<span className='smallfont smallfont-height marginauto-height'>{clothingState.green}</span>\r\n\t\t\t\t\t\t<input className='slider marginauto-height' type='range' min='0' max='255' step='1' defaultValue={clothingState.green} onChange={(e)=>colorChange(e.target.value, 'green', 1)} ref={greenSlider}></input>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='card-color-picker-slider displayflex'>\r\n\t\t\t\t\t\t<span className='smallfont smallfont-height marginauto-height'>{clothingState.blue}</span>\r\n\t\t\t\t\t\t<input className='slider marginauto-height' type='range' min='0' max='255' step='1' defaultValue={clothingState.blue} onChange={(e)=>colorChange(e.target.value, 'blue', 2)} ref={blueSlider}></input>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</article>\r\n\t\t\t</section>\r\n\t\t</article>\r\n\t);\r\n}\r\n\r\nexport default ClothingItem;","import React from 'react';\r\nimport ClothingItem from '../components/ClothingItem';\r\nimport { roundNumber } from '../assets/common';\r\n\r\n\r\nconst WearPicker = (props) => {\r\n\t\r\n\tconst clothingCategories = Object.keys(props.clothing);\r\n\tconst clothingCategoriesLength = clothingCategories.length;\r\n\r\n\tconst selectedClothes = [];\r\n\tconst otherClothes = [];\r\n\tfor (let cc = 0; cc < clothingCategoriesLength; cc++) {\r\n\t\totherClothes[clothingCategories[cc]] = [];\r\n\t};\r\n\r\n\tfor (let c = 0; c < clothingCategoriesLength; c++) {\r\n\t\tconst category = clothingCategories[c];\r\n\t\t/* console.log('  category: ', category); */\r\n\t\tconst categoryItems = props.clothing[clothingCategories[c]];\r\n\t\t/* console.log('  categoryItems: ', categoryItems); */\r\n\t\tconst categoryItemsKeys = Object.keys(categoryItems);\r\n\t\t/* console.log('  categoryItemsKeys: ', categoryItemsKeys); */\r\n\t\tconst categoryItemsKeysLength = categoryItemsKeys.length;\r\n\t\tfor (let i = 0; i < categoryItemsKeysLength; i++) {\r\n\t\t\tif (true === categoryItems[categoryItemsKeys[i]]['selected']) {\r\n\t\t\t\tselectedClothes.push(categoryItems[categoryItemsKeys[i]]);\r\n\t\t\t} else {\r\n\t\t\t\totherClothes[category].push(categoryItems[categoryItemsKeys[i]]);\r\n\t\t\t};\r\n\t\t};\r\n\t};\r\n\t/* console.log('  -  selectedClothes: ', selectedClothes);\r\n\tconsole.log('  -  otherClothes: ', otherClothes); */\r\n\r\n\r\n\tconst editClothing = function(cloth, action) {\r\n\t\tconsole.log('newClothing: ', cloth);\r\n\t\tprops.editClothing([cloth]);\r\n\t};\r\n\r\n\tconst submitClothing = function() {\r\n\t\tconst tempNow = new Date();\r\n\t\tconst key = tempNow.getTime() + '_' + roundNumber(props.weather[props.currentCity].currentWeather.main.temp);\r\n\t\tconsole.log('key: ', key);\r\n\t\tconst submittedClothing = {\r\n\t\t\ttemperature: props.weather[props.currentCity].currentWeather.main.temp,\r\n\t\t\tweatherId: props.weather[props.currentCity].currentWeather.weather[0].id,\r\n\t\t\tclothing: selectedClothes\r\n\t\t};\r\n\t\tconsole.log('submittedClothing ', submittedClothing);\r\n\t};\r\n\r\n\r\n\treturn (\r\n\t\t<section id='WearPicker' className='main-tab displayflex flexcol'>\r\n\t\t\t\r\n\t\t\t<section id='AllWear-section'>\r\n\t\t\t\t<h3 className='Wear-header biggerfont bold4'>Pick your outfit</h3>\r\n\t\t\t\t<article id='AllWear-container' className='displayflex flexcol'>\r\n\t\t\t\t\t{ clothingCategories.map((clothcat, i) => {\r\n\t\t\t\t\t\treturn (otherClothes[clothcat].length > 0) ? <section id={clothcat+'-section'} key={i}>\r\n\t\t\t\t\t\t\t<h4 className='bigfont bold4'>{clothcat}</h4>\r\n\t\t\t\t\t\t\t<section id={clothcat+'-container'} className='displayflex horz-scroll'>\r\n\t\t\t\t\t\t\t\t{ otherClothes[clothcat].map((catcloth, j) => {\r\n\t\t\t\t\t\t\t\t\treturn <ClothingItem key={j} data={catcloth} addrem={'Add'} editCloth={(cloth,action)=>editClothing(cloth, action)} />\r\n\t\t\t\t\t\t\t\t}) }\r\n\t\t\t\t\t\t\t</section>\r\n\t\t\t\t\t\t</section> : null\r\n\t\t\t\t\t}) }\r\n\t\t\t\t</article>\r\n\t\t\t</section>\r\n\r\n\t\t\t<section id='PickedWear-section'>\r\n\t\t\t\t<h3 className='Wear-header biggerfont bold4'>Today's Outfit</h3>\r\n\t\t\t\t{ (selectedClothes.length > 0) ? <>\r\n\t\t\t\t\t<section id='PickedWear-container' className='displayflex flexwrap horz-scroll'>\r\n\t\t\t\t\t\t{ selectedClothes.map((selcloth, i) => {\r\n\t\t\t\t\t\t\treturn <ClothingItem key={i} data={selcloth} editCloth={(cloth,action)=>editClothing(cloth, action)} addrem={'Remove'} />\r\n\t\t\t\t\t\t}) }\r\n\t\t\t\t\t</section>\r\n\t\t\t\t\t<article id='PickedWear-submit-container' className='Wear-submit-container displayflex positionrel'>\r\n\t\t\t\t\t\t<button className='solid-button large teal-button smallfont' onClick={submitClothing}>Submit</button>\r\n\t\t\t\t\t</article>\r\n\t\t\t\t</> : <article id='NoSelectedCards' className='displayflex flexcol nonselect'>\r\n\t\t\t\t\t\t<p className='marginauto medfont'>No Clothes Selected</p>\r\n\t\t\t\t</article> }\r\n\t\t\t</section>\r\n\r\n\t\t\t{/* <span style={{marginTop: '10rem'}}>Icons by itim2101, Good Ware, Smashicons</span> */}\r\n\t\t</section>\r\n\t)\r\n\r\n}\r\n\r\nexport default WearPicker;","import React from 'react';\r\nimport { getClothingSvg } from '../status/ClothingHandler';\r\n\r\n\r\nconst SuggestedClothingItem = (props) => {\r\n\r\n\tconst svgIcon = getClothingSvg(props.data.title, props.data.primaryColor, props.data.secondaryColor, props.data.tertiaryColor);\r\n\r\n\tconst sendClothing = function() {\r\n\t\tprops.editCloth(props.data);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<article className='card fluent-card card-shadow displayflex nonselect positionrel'>\r\n\t\t\t<section className='card-contents displayflex flexcol positionabs'>\r\n\t\t\t\t<span className='card-icon-container displayflex'>\r\n\t\t\t\t\t<React.Suspense fallback={<></>}>\r\n\t\t\t\t\t\t{svgIcon}\r\n\t\t\t\t\t</React.Suspense>\r\n\t\t\t\t</span>\r\n\t\t\t\t<header className='card-name-container medfont medfont-height'>\r\n\t\t\t\t\t<p className='card-name marginauto-height'>{props.data.name}</p>\r\n\t\t\t\t</header>\r\n\t\t\t\t<div className='card-buttons-container displayflex positionrel'>\r\n\t\t\t\t\t<button className={'outline-button ' + (props.addrem==='Add' ? 'green-button' : 'red-button')} onClick={sendClothing}>{props.addrem}</button>\r\n\t\t\t\t</div>\r\n\t\t\t</section>\r\n\t\t</article>\r\n\t);\r\n};\r\n\r\nexport default SuggestedClothingItem;","/* import CONSTANTS from '../assets/constants.json'; */\r\nimport { roundNumber } from '../assets/common';\r\n\r\n/* const fakeClothes = [\r\n\t{\r\n\t\t\"name\": \"sunglasses\",\r\n\t\t\"title\": \"sunglasses\",\r\n\t\t\"category\": \"headwear\",\r\n\t\t\"pronoun\": \"all\",\r\n\t\t\"primaryColor\": \"rgb(174, 159, 74)\",\r\n\t\t\"secondaryColor\": \"rgb(138, 154, 179)\",\r\n\t\t\"tertiaryColor\": null,\r\n\t\t\"selected\": false\r\n\t},\r\n\t{\r\n\t\t\"name\": \"long socks\",\r\n\t\t\"title\": \"longSocks\",\r\n\t\t\"category\": \"socks\",\r\n\t\t\"pronoun\": \"all\",\r\n\t\t\"primaryColor\": \"rgb(142, 44, 44)\",\r\n\t\t\"secondaryColor\": \"rgb(219, 202, 112)\",\r\n\t\t\"tertiaryColor\": \"rgb(219, 202, 112)\",\r\n\t\t\"selected\": false\r\n\t}\r\n]; */\r\n\r\nlet usersClothes = [\r\n\t{ \r\n\t\t\"clothing\": [\r\n\t\t\t{ \"category\": \"tops\", \"pronoun\": \"all\", \"name\": \"t-shirt\", \"primaryColor\": \"rgb(193, 163, 177)\", \"selected\": true, \"title\": \"tShirt\" }, \r\n\t\t\t{ \"category\": \"bottoms\", \"pronoun\": \"he\", \"name\": \"shorts\", \"primaryColor\": \"rgb(43, 72, 109)\", \"selected\": true, \"title\": \"shorts\" }\r\n\t\t], \r\n\t\t\"temperature\": 298.37, \r\n\t\t\"weatherId\": 800\r\n\t}\r\n];\r\n\r\nexport function getClothes(db, temperature, userObject) {\r\n\tif (usersClothes.length > 0) {\r\n\t\t/* console.log('clothes here'); */\r\n\t\t/* return usersClothes; */\r\n\t\treturn new Promise((resolve) => {\r\n\t\t\tresolve(getClothingSet());\r\n\t\t});\r\n\t} else {\r\n\t\treturn new Promise((resolve) => {\r\n\t\t\tdb.once('value').then(function (snapshot) {\r\n\t\t\t\tconst data = (snapshot.val() && snapshot.val().data) || [];\r\n\t\t\t\tconsole.log('ClothesAPI data: ', data);\r\n\t\t\t\tsetClothes(data, temperature);\r\n\t\t\t\tresolve(getClothingSet());\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\t/* return fakeClothes; */\r\n};\r\n\r\nconst setClothes = function (data, temperature) {\r\n\tconst tempHigh = roundNumber(temperature + 8);\r\n\tconst tempLow = roundNumber(temperature - 8);\r\n\tconsole.log(temperature, tempHigh, tempLow);\r\n\tconst timeKeys = Object.keys(data);\r\n\tconst timeKeysLen = timeKeys.length;\r\n\tlet filteredData = [];\r\n\tfor (let i = 0; i < timeKeysLen; i++) {\r\n\t\tconst keyTemperature = timeKeys[i].split('_')[1];\r\n\t\tconsole.log(keyTemperature);\r\n\t\tif ((keyTemperature <= tempHigh) && (tempLow <= keyTemperature)) {\r\n\t\t\tfilteredData.push(data[timeKeys[i]]);\r\n\t\t};\r\n\t};\r\n\tconsole.log('filteredData: ', filteredData);\r\n\tusersClothes = filteredData;\r\n\t/* return data[timeKeys[0]].clothing; */\r\n};\r\n\r\nexport function getClothingSet() {\r\n\tconst clothesLen = usersClothes.length;\r\n\tif (clothesLen === 0) {\r\n\t\treturn [];\r\n\t};\r\n\tconst random = Math.floor((Math.random() * clothesLen));\r\n\treturn usersClothes[random].clothing;\r\n};","import React, { useState, useEffect } from 'react';\r\nimport SuggestedClothingItem from '../components/SuggestedClothingItem';\r\nimport { getClothes, getClothingSet } from '../api/ClothesApi';\r\n\r\n\r\nconst WearSuggester = (props) => {\r\n\r\n\t/* console.log(\"WearSuggester \", props); */\r\n\t/* const wearCollection = props.db.current.collection(\"api\").doc(props.user.uid).collection(\"wear\"); */\r\n\t\r\n\tconst [suggestedClothes, setSuggestedClothes] = useState(null);\r\n\r\n\tuseEffect(() => {\r\n\t\t/* console.log('wear suggester useeffect'); */\r\n\t\tgetSuggestedClothes();\r\n\t}, \r\n\t// eslint-disable-next-line\r\n\t[props.db, props.userSettings.userObject]);\r\n\r\n\tconst editClothing = function(cloth, i) {\r\n\t\tconsole.log('Edit suggested clothing: ', cloth, i);\r\n\t\t/* const cloneSuggestedClothes = [...suggestedClothes];\r\n\t\tdelete cloneSuggestedClothes[i];\r\n\t\tconst newSuggestedClothes = cloneSuggestedClothes.filter(s=>s!==undefined);\r\n\t\tsetSuggestedClothes(newSuggestedClothes); */\r\n\t\tcloth.selected = true;\r\n\t\tprops.editClothing([cloth]);\r\n\t};\r\n\r\n\r\n\tconst getSuggestedClothes = function() {\r\n\t\tgetClothes(props.db, props.weather[props.currentCity].currentWeather.main.temp, props.userSettings.userObject).then(newClothes => {\r\n\t\t\t/* console.log('New Clothes: ', newClothes); */\r\n\t\t\tsetSuggestedClothes(newClothes);\r\n\t\t});\r\n\t};\r\n\r\n\tconst getNewSuggested = function() {\r\n\t\tconst newSet = getClothingSet();\r\n\t\tconsole.log(newSet);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<section id='WearSuggester' className='displayflex flexcol'>\r\n\t\t\t<h3 className='Wear-header biggerfont bold4'>Suggested for you</h3>\r\n\t\t\t{ (null===suggestedClothes) ?\r\n\t\t\t\t<section id='SuggestedClothes-container' className='displayflex three-card-row horz-scroll'>\r\n\t\t\t\t\t<div className='loadingcard displayflex'>\r\n\t\t\t\t\t\t<p className='marginauto medfont'>loading</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</section> :\r\n\t\t\t\t(suggestedClothes.length > 0) ?\r\n\t\t\t\t<>\r\n\t\t\t\t\t<section id='SuggestedClothes-container' className='displayflex three-card-row horz-scroll'>\r\n\t\t\t\t\t\t{ suggestedClothes.map((clo, i) => {\r\n\t\t\t\t\t\t\treturn <SuggestedClothingItem data={clo} key={i} editCloth={(cloth)=>editClothing(cloth, i)} addrem={'Add'} />\r\n\t\t\t\t\t\t}) }\r\n\t\t\t\t\t</section>\r\n\t\t\t\t\t<article className='Wear-submit-container displayflex positionrel'>\r\n\t\t\t\t\t\t<button className='solid-button large smallfont' onClick={getNewSuggested}>Suggest New Clothes</button>\r\n\t\t\t\t\t</article>\r\n\t\t\t\t</>\r\n\t\t\t\t: <article id='NoSuggestedClothes' className='displayflex flexcol nonselect'>\r\n\t\t\t\t\t<p className='marginauto-height medfont'>No Suggested Clothes Available</p>\r\n\t\t\t\t</article>\r\n\t\t\t}\r\n\t\t</section>\r\n\t);\r\n}\r\n\r\nexport default WearSuggester;","import React, { useState } from 'react';\r\nimport WearPicker from './WearPicker';\r\nimport WearSuggester from './WearSuggester';\r\nimport ClothingMap from '../assets/clothingMap.json';\r\n\r\n\r\nconst WearSection = (props) => {\r\n\r\n\t/* console.log('WearSection usersettings: ', props.userSettings); */\r\n\t/* let ClothingMap = JSON.parse(JSON.stringify(ClothingMap)); */\r\n\tconst clothingMapKeys = Object.keys(ClothingMap);\r\n\tconst clothingMapKeysLength = clothingMapKeys.length;\r\n\tfor (let i = 0; i < clothingMapKeysLength; i++) {\r\n\t\tlet clothingTitles = Object.keys(ClothingMap[clothingMapKeys[i]]);\r\n\t\tlet clothingTitlesLength = clothingTitles.length;\r\n\t\tfor (let j = 0; j < clothingTitlesLength; j++) {\r\n\t\t\tif (props.userSettings.pronoun === \"he\") {\r\n\t\t\t\tif (ClothingMap[clothingMapKeys[i]][clothingTitles[j]]['pronoun'] === \"she\") {\r\n\t\t\t\t\tdelete ClothingMap[clothingMapKeys[i]][clothingTitles[j]];\r\n\t\t\t\t};\r\n\t\t\t} else if (props.userSettings.pronoun === \"she\") {\r\n\t\t\t\tif (ClothingMap[clothingMapKeys[i]][clothingTitles[j]]['pronoun'] === \"he\") {\r\n\t\t\t\t\tdelete ClothingMap[clothingMapKeys[i]][clothingTitles[j]];\r\n\t\t\t\t};\r\n\t\t\t};\r\n\t\t};\r\n\t};\r\n\r\n\tconst [clothing, setClothing] = useState(ClothingMap);\r\n\r\n\tconst wearSetter = function(clothesArr) {\r\n\t\t/* console.log('wearSetter clothesArr: ', clothesArr); */\r\n\t\tlet oldClothingMap = JSON.parse(JSON.stringify(clothing));\r\n\t\tfor (let i = 0; i < clothesArr.length; i++) {\r\n\t\t\toldClothingMap[clothesArr[i].category][clothesArr[i].title] = clothesArr[i];\r\n\t\t};\r\n\t\t/* thisClothingMap = oldClothingMap; */\r\n\t\tsetClothing(oldClothingMap);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<section id='WearSection' className='main-tab displayflex flexcol'>\r\n\t\t\t<WearSuggester weather={props.weather} currentCity={props.currentCity} editClothing={(clothesArr)=>wearSetter(clothesArr)} db={props.db} user={props.user} userSettings={props.userSettings} />\r\n\t\t\t<WearPicker weather={props.weather} currentCity={props.currentCity} clothing={clothing} editClothing={(clothing)=>wearSetter(clothing)} />\r\n\t\t</section>\r\n\t)\r\n\r\n}\r\n\r\nexport default WearSection;","import React, { useRef } from 'react';\r\nimport { getAllWeatherData } from '../api/WeatherApi';\r\n\r\n\r\nconst CitySelector = (props) => {\r\n\r\n\tconst cityInputRef = useRef();\r\n\r\n\tconst _citySubmit = (e) => {\r\n\t\tconst city = cityInputRef.current.value;\r\n\t\tconsole.log('_cityCheck for ', city);\r\n\t\tlet match = false;\r\n\t\tif (null !== props.weather && props.weather.length > 0) {\r\n\t\t\tfor (let i = 0; i < props.weather.length; i++) {\r\n\t\t\t\tif (city.localCompare(props.weather[i].name) > 0) {\r\n\t\t\t\t\tmatch = true;\r\n\t\t\t\t\tconsole.log('city ' + city + ' matched with weather name ' + props.weather[i].name);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t};\r\n\t\tif (false === match) {\r\n\t\t\tgetAllWeatherData(city)\r\n\t\t\t.then(([currentData, hourlyData, extendedData]) => {\r\n\t\t\t\tconsole.log('CitySelector data: ', [currentData, hourlyData, extendedData]);\r\n\t\t\t\tif (currentData.error || hourlyData.error || extendedData.error) {\r\n\t\t\t\t\talert('Weather data error');\r\n\t\t\t\t\tcityInputRef.current.value = '';\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlet newCity = {\r\n\t\t\t\t\t\t'index': 0,\r\n\t\t\t\t\t\t'name': currentData.name,\r\n\t\t\t\t\t\t'id': currentData.id,\r\n\t\t\t\t\t\t'currentWeather': currentData,\r\n\t\t\t\t\t\t'hourlyWeather': hourlyData,\r\n\t\t\t\t\t\t'extendedWeather': extendedData\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconsole.log('newcity: ', newCity);\r\n\t\t\t\t\tprops.cityPick(newCity);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\talert('City already added, select a new city');\r\n\t\t\tcityInputRef.current.value = '';\r\n\t\t};\r\n\t\te.preventDefault();\r\n\t};\r\n\r\n\treturn (<article id='CitySelector' className='card fluent-card card-shadow displayflex flexcol marginauto'>\r\n\t\t<header className='card-header card-row'>\r\n\t\t\t<span className='biggerfont'>Select a City</span>\r\n\t\t</header>\r\n\t\t<form onSubmit={_citySubmit} action=''>\r\n\t\t\t<section className='card-row displayflex flexcol'>\r\n\t\t\t\t<input id='CityInput' className='outline-input biggerfont-height' type='text' name='zip' ref={cityInputRef}></input>\r\n\t\t\t</section>\r\n\t\t\t<section className='card-row displayflex'>\r\n\t\t\t\t<input style={{margin:'1rem 0 0 auto'}} className='outline-button green-button nonselect' type='submit' value='Submit'></input>\r\n\t\t\t</section>\r\n\t\t</form>\r\n\t</article>);\r\n};\r\n\r\n\r\nexport default CitySelector;","import React, { useState, useEffect } from 'react';\r\nimport './styles/ThemeSwitcher.scss';\r\n\r\nimport { getInitUserSettings, getSettings, setNewSetting } from './status/SettingsHandler';\r\nimport { handlerToggleTheme } from './status/ThemeHandler';\r\nimport * as WeatherHandler from './status/WeatherHandler';\r\n\r\nimport { getAllWeatherData } from './api/WeatherApi';\r\nimport Navbar from './views/Navbar';\r\nimport WeatherDaily from './views/WeatherDaily';\r\nimport WearSection from './views/WearSection';\r\nimport CitySelector from './components/CitySelector';\r\n\r\n\r\nconst App = (props) => {\r\n\r\n\tconsole.log('beginning of App');\r\n\r\n\tconst initUserSettings = getInitUserSettings(props.user);\r\n\tconst initWeatherCheck = WeatherHandler.weatherCacheCheck();\r\n\tconst weatherCodeObj = ((null !== initWeatherCheck[0]) && (null !== initWeatherCheck[0][0])) ? WeatherHandler.weatherDecoder(initWeatherCheck[0][0]['currentWeather']['weather'][0]['id']) : WeatherHandler.weatherDecoder(800);\r\n\t/* const weatherCodeObj = WeatherHandler.weatherDecoder(303); */\r\n\tconst initState = {\r\n\t\tuser: props.user,\r\n\t\tuserSettings: initUserSettings,\r\n\t\tthemeObj: (handlerToggleTheme(initUserSettings.theme)),\r\n\t\tcurrentCity: 0,\r\n\t\tweather: initWeatherCheck[0],\r\n\t\tweatherCached: initWeatherCheck[1],\r\n\t\tweatherLoading: ((false === initWeatherCheck[1]) ? false : true),\r\n\t\tweatherCodeObj: weatherCodeObj\r\n\t};\r\n\tconst [appState, setAppState] = useState(initState);\r\n\r\n\t\r\n\tuseEffect(() => {\r\n\t\t_tryUpdateWeather();\r\n\t}, \r\n\t// eslint-disable-next-line\r\n\t[]);\r\n\r\n\r\n\tconst _setNewUser = (newUser) => {\r\n\t\tconsole.log('newUser: ', newUser);\r\n\t\tconst newState = {...appState};\r\n\t\tnewState.user = newUser;\r\n\t\tsetAppState(newState);\r\n\t\twindow.location.reload();\r\n\t\treturn false;\r\n\t};\r\n\r\n\tconst _setNewCity = (cityWeather) => {\r\n\t\tconsole.log('_setNewCity current weather: ', appState.weather);\r\n\t\tconsole.log('new weather for city: ', cityWeather);\r\n\t\tconst updatedWeather = WeatherHandler.addToWeather(appState.weather, cityWeather);\r\n\t\tconst newState = {...appState};\r\n\t\tnewState.weatherLoading = false;\r\n\t\tnewState.weatherCached = false;\r\n\t\tnewState.weather = updatedWeather;\r\n\t\tsetAppState(newState);\r\n\t};\r\n\r\n\tconst _tryUpdateWeather = () => {\r\n\t\tconst weatherCheck = WeatherHandler.weatherCacheCheck();\r\n\t\tconsole.log('Check if weatherCached is old: ', weatherCheck[1]);\r\n\t\tif (true === weatherCheck[1]) {\r\n\t\t\t_updateWeather();\r\n\t\t\tconsole.log('updated weather from useEffect');\r\n\t\t};\r\n\t}\r\n\r\n\tconst _updateWeather = () => {\r\n\t\tlet newWeather = (null === appState.weather) ? initWeatherCheck[0] : appState.weather.slice();\r\n\t\tlet city = newWeather[appState.currentCity]['name'];\r\n\t\tconsole.log('App updating Weather for city: ', city);\r\n\t\tgetAllWeatherData(city).then(([currentData, hourlyData, extendedData]) => {\r\n\t\t\tconsole.log('_updateWeather data: ', [currentData, hourlyData, extendedData]);\r\n\t\t\tif (currentData.error || hourlyData.error || extendedData.error) {\r\n\t\t\t\tconsole.log('Weather data error');\r\n\t\t\t\tconsole.log('Setting weather from cache: ', initWeatherCheck[0][appState.currentCity]);\r\n\t\t\t\tconst weatherCodeObj = WeatherHandler.weatherDecoder(initWeatherCheck[0][appState.currentCity]['currentWeather']['weather'][0]['id']);\r\n\t\t\t\tconst newState = {...appState};\r\n\t\t\t\tnewState.weatherLoading = false;\r\n\t\t\t\tnewState.weather = initWeatherCheck[0];\r\n\t\t\t\tnewState.weatherCodeObj = weatherCodeObj;\r\n\t\t\t\tsetAppState(newState);\r\n\t\t\t} else {\r\n\t\t\t\tlet newWeatherData = {\r\n\t\t\t\t\t'index': appState.currentCity,\r\n\t\t\t\t\t'name': currentData.name,\r\n\t\t\t\t\t'id': currentData.id,\r\n\t\t\t\t\t'currentWeather': currentData,\r\n\t\t\t\t\t'hourlyWeather': hourlyData,\r\n\t\t\t\t\t'extendedWeather': extendedData\r\n\t\t\t\t};\r\n\t\t\t\tconsole.log('newWeather: ', newWeatherData);\r\n\t\t\t\tconst weatherCodeObj = WeatherHandler.weatherDecoder(currentData['weather'][0]['id']);\r\n\t\t\t\tnewWeather[appState.currentCity] = newWeatherData;\r\n\t\t\t\tWeatherHandler.setWeatherCache(newWeather);\r\n\t\t\t\tconst newState = {...appState};\r\n\t\t\t\tnewState.weatherCached = false;\r\n\t\t\t\tnewState.weatherLoading = false;\r\n\t\t\t\tnewState.weather = newWeather;\r\n\t\t\t\tnewState.weatherCodeObj = weatherCodeObj;\r\n\t\t\t\tconsole.log('new state: ', newState);\r\n\t\t\t\tsetAppState(newState);\r\n\t\t\t};\r\n\t\t});\r\n\t}\r\n\r\n\tconst _setNewTheme = (newTheme) => {\r\n\t\tconsole.log('setNewTheme: ', newTheme);\r\n\t\tlet newThemeObj = handlerToggleTheme(newTheme);\r\n\t\t/* console.log('oldUserSettings: ', {...userSettings}); */\r\n\t\t/* console.log('newThemeObj: ', newThemeObj); */\r\n\t\tconst newUserSettings = getSettings();\r\n\t\tconst newState = {...appState};\r\n\t\tnewState.userSettings = {...newUserSettings};\r\n\t\tnewState.themeObj = {...newThemeObj};\r\n\t\tsetAppState(newState);\r\n\t};\r\n\r\n\tconst _setNewSetting = (ky, vl) => {\r\n\t\tconst newState = {...appState};\r\n\t\tconst newUserSettings = setNewSetting(ky, vl);\r\n\t\tnewState.userSettings = newUserSettings;\r\n\t\tsetAppState(newState);\r\n\t\tif (ky === 'pronoun') {\r\n\t\t\twindow.location.reload(false);\r\n\t\t};\r\n\t};\r\n\r\n\tconsole.log('render appState: ', appState);\r\n\treturn (\r\n\t\t<div id='App' className={'displayflex positionrel ' + ((appState.user === null) ? 'nouser ' : '') + appState.themeObj[appState.userSettings.theme].class}>\r\n\t\t\t{ (null !== appState.weatherCached) ? <>\r\n\t\t\t\t<main id='App-main' className={'displayflex marginauto positionrel' + ((null === appState.weather) ? ' full' : '') + ' ' + appState.weatherCodeObj.ambiance + ' ' + appState.weatherCodeObj.background}>\r\n\t\t\t\t\t<article id='App-main-inner' className='displayflex flexcol'>\r\n\t\t\t\t\t\t{ (appState.weatherLoading === false) ? <>\r\n\t\t\t\t\t\t\t<WeatherDaily weather={appState.weather}  currWeatherUpdate={()=>_updateWeather()} scale={appState.userSettings.scale} currentCity={appState.currentCity} weatherCodeObj={appState.weatherCodeObj} />\r\n\t\t\t\t\t\t\t{ (null !== appState.user && null !== appState.weather) && <WearSection weather={appState.weather} scale={appState.userSettings.scale} currentCity={appState.currentCity} userSettings={appState.userSettings} user={appState.user} db={props.db} /> }\r\n\t\t\t\t\t\t\t</> : <span>loading</span>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t<span id='credits' className='smallfont' aria-hidden='true'>Designed by <a href='https://amandainnis.github.io/' target='_blank' rel='noopener noreferrer'>Amanda Innis</a></span>\r\n\t\t\t\t\t</article>\r\n\t\t\t\t\t<section id='App-main-blur-background' className='positionfixed'></section>\r\n\t\t\t\t\t<section id='App-main-weather-background' className='positionfixed'>\r\n\t\t\t\t\t\t<article id='rain-container' className='App-main-weather-container'>\r\n\t\t\t\t\t\t\t<span className='raindrop-container one'>\r\n\t\t\t\t\t\t\t\t<span className='raindrop weather-drop'></span>\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t<span className='raindrop-container two'>\r\n\t\t\t\t\t\t\t\t<span className='raindrop weather-drop'></span>\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t<span className='raindrop-container three'>\r\n\t\t\t\t\t\t\t\t<span className='raindrop weather-drop'></span>\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t<span className='raindrop-container four'>\r\n\t\t\t\t\t\t\t\t<span className='raindrop weather-drop'></span>\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t<span className='raindrop-container five'>\r\n\t\t\t\t\t\t\t\t<span className='raindrop weather-drop'></span>\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t<span className='raindrop-container six'>\r\n\t\t\t\t\t\t\t\t<span className='raindrop weather-drop'></span>\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t<span className='raindrop-container seven'>\r\n\t\t\t\t\t\t\t\t<span className='raindrop weather-drop'></span>\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</article>\r\n\t\t\t\t\t</section>\r\n\t\t\t\t</main>\r\n\t\t\t\t<Navbar user={appState.user} themeObj={appState.themeObj} sendNewTheme={(newTheme)=>_setNewTheme(newTheme)} userUpdate={(user)=>_setNewUser(user)} color={appState.weatherCodeObj.color} userSettings={appState.userSettings} sendNewSetting={(ky, vl)=>_setNewSetting(ky, vl)} refreshWeather={_tryUpdateWeather} />\r\n\t\t\t</> : <main id='App-main' className='full displayflex positionrel'>\r\n\t\t\t\t<CitySelector weather={appState.weather} cityPick={(newCityWeather)=>_setNewCity(newCityWeather)} /> \r\n\t\t\t</main> }\r\n\t\t</div>\r\n\t);\r\n\r\n}\r\n\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n//import { getSettings } from './status/SettingsHandler';\r\nimport './index.css';\r\nimport firebase from './status/Firebase';\r\n//import * as serviceWorker from './serviceWorker';\r\n\r\n\r\n/* Check for cookie here */\r\n/* let initUserId = '00000001'; */\r\nconsole.log(process.env);\r\nlet user = null;\r\n/* let myFirestore = null; */\r\nlet myFireDatabase = null;\r\nfirebase.auth().onAuthStateChanged(function(userCheck) {\r\n\tif (userCheck) {\r\n\t\tuser = userCheck;\r\n\t\t/* myFirestore = firebase.firestore(); */\r\n\t\tmyFireDatabase = firebase.database().ref(`/users/${user.uid}`);\r\n\t\t/* console.log(myFirestore.ref()); */\r\n\t} else {\r\n\t\tconsole.log('no userCheck found');\r\n\t}\r\n\r\n\t/* let initSettings = JSON.parse(localStorage.getItem(\"userSettings\")) || getSettings();\r\n\ttry {\r\n\t\tlocalStorage.setItem('userSettings', JSON.stringify(initSettings));\r\n\t} catch(err) {\r\n\t\tconsole.log('Writing to local Storage error for userSettings: ', initSettings);\r\n\t}\r\n\tuserSettings={initSettings} */\r\n\r\n\tconst gpsAvailable = (\"geolocation\" in navigator) ? true : false;\r\n\r\n\tReactDOM.render(\r\n\t\t<App user={user} db={myFireDatabase} gpsAvailable={gpsAvailable} />, \r\n\t\tdocument.getElementById('root')\r\n\t);\r\n\r\n});\r\n\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\n//serviceWorker.unregister();\r\n"],"sourceRoot":""}